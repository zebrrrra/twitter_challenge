(this.webpackJsonptwitter_challenge=this.webpackJsonptwitter_challenge||[]).push([[0],{108:function(e,t,n){e.exports={recommendListContainer:"RecommendList_recommendListContainer__1MaN0",recommendCard:"RecommendList_recommendCard__2-RFD",avatar:"RecommendList_avatar__3tQD7",userInfo:"RecommendList_userInfo__1b61f",name:"RecommendList_name__U9V0l",userName:"RecommendList_userName__1nqaH",buttonFollowing:"RecommendList_buttonFollowing__1cq57",buttonFollower:"RecommendList_buttonFollower__1KmNN",RecommendHeader:"RecommendList_RecommendHeader__Uyst0",skeleton:"RecommendList_skeleton__34STa"}},109:function(e,t,n){e.exports={container:"ChatMessage_container__1YmmN",avatarContainer:"ChatMessage_avatarContainer__3BHlS",contentContainer:"ChatMessage_contentContainer__uFczC",owner:"ChatMessage_owner__3wdjJ"}},13:function(e,t,n){e.exports={navbarContainer:"ChatNavbars_navbarContainer__ZmIt4",NavbarLogo:"ChatNavbars_NavbarLogo__3GRZ1",NavbarPng:"ChatNavbars_NavbarPng__1GTEu",NavbarGroup:"ChatNavbars_NavbarGroup__3qrNV",NavbarItem:"ChatNavbars_NavbarItem__EvvFG",active:"ChatNavbars_active__3Z6Jm",NavbarButton:"ChatNavbars_NavbarButton__2Ae9i",logout:"ChatNavbars_logout__3yn1v",NavbarTweetIcon:"ChatNavbars_NavbarTweetIcon__1RAPi",NavbarName:"ChatNavbars_NavbarName__2v2Yf"}},134:function(e,t,n){e.exports={chatRoomContainer:"ChatRoom_chatRoomContainer__170HM",HeaderContainer:"ChatRoom_HeaderContainer__1OkPz",title:"ChatRoom_title__HpJd9",subtitle:"ChatRoom_subtitle__1wtfz"}},135:function(e,t,n){e.exports={adminUserContainer:"AdminUserList_adminUserContainer__7Y6dF",skeletonContainer:"AdminUserList_skeletonContainer__IMbkz",skeleton:"AdminUserList_skeleton__bg2nF"}},160:function(e,t,n){e.exports={chatBodyContainer:"ChatBody_chatBodyContainer__1t0kM",skeleton:"ChatBody_skeleton__3u3Zu"}},23:function(e,t,n){e.exports={background:"ReplyModal_background__8SvgK TweetModal_background__lpo2b",container:"ReplyModal_container__3xQ4N",isLoading:"ReplyModal_isLoading__2Uti0 TweetModal_isLoading__1xWuL",buttonContainer:"ReplyModal_buttonContainer__ZSO_P",ContentContainer:"ReplyModal_ContentContainer__d9qrw TweetModal_ContentContainer__3PJFW",leftContainer:"ReplyModal_leftContainer__2qy9o",top:"ReplyModal_top__1fNHM",down:"ReplyModal_down__1E0tJ",avatarContainer:"ReplyModal_avatarContainer__1Iu4G",rightContainer:"ReplyModal_rightContainer__3fKfq",rightTopContainer:"ReplyModal_rightTopContainer__2qrG4",name:"ReplyModal_name__3Pt8N",introduction:"ReplyModal_introduction__3dajE",hint:"ReplyModal_hint__1MsgI",rightBottomContainer:"ReplyModal_rightBottomContainer__Qfz3d",ReplyButtonContainer:"ReplyModal_ReplyButtonContainer__3Mk_3",closeButton:"ReplyModal_closeButton__1PYMu TweetModal_closeButton__2P0w1",backButton:"ReplyModal_backButton__3dPaa TweetModal_backButton__6RCp7",tweetText:"ReplyModal_tweetText__Tua3m"}},236:function(e,t,n){e.exports={skeleton:"AllTweets_skeleton__TK6Za"}},237:function(e,t,n){e.exports={container:"StateMessage_container__3ofm9"}},238:function(e,t,n){e.exports={skeleton:"AdminAllTweet_skeleton__2N77n"}},247:function(e,t,n){},26:function(e,t,n){e.exports={container:"MainTweet_container__2yy5X",tweetContainer:"MainTweet_tweetContainer__3Uiby",titleContainer:"MainTweet_titleContainer__uU_UO",nameContainer:"MainTweet_nameContainer__AAUUH",name:"MainTweet_name__18o_Q",account:"MainTweet_account__1yRGd",introduction:"MainTweet_introduction__3soC4",time:"MainTweet_time__1DDr3",avatarContainer:"MainTweet_avatarContainer__uctJ0",dataContainer:"MainTweet_dataContainer__1FU-Z",data:"MainTweet_data__1aTWY",iconContainer:"MainTweet_iconContainer__2TU7a",isLikeIcon:"MainTweet_isLikeIcon__gjUoh",likeIcon:"MainTweet_likeIcon__3vG47",skeleton:"MainTweet_skeleton__18k0-"}},287:function(e,t){},289:function(e,t){},29:function(e,t,n){e.exports={tabContainer:"Tab_tabContainer__EuBx_",tab:"Tab_tab__Z2EY2",active:"Tab_active__2pQdy",noFollow:"Tab_noFollow__3ikPW"}},298:function(e,t){},300:function(e,t){},31:function(e,t,n){e.exports={grayBackground:"EditModal_grayBackground__1kPqn TweetModal_background__lpo2b",container:"EditModal_container__2DDCc",isLoading:"EditModal_isLoading__3KTP1 TweetModal_isLoading__1xWuL",header:"EditModal_header__1f1e4",leftContainer:"EditModal_leftContainer__2yY8P",saveButton:"EditModal_saveButton__23hxX",uploadFormContainer:"EditModal_uploadFormContainer__1AYl3",bgContainer:"EditModal_bgContainer__3gP6r",upload:"EditModal_upload__2cxsy",fork:"EditModal_fork__2tt6h",avatarContainer:"EditModal_avatarContainer__2QrsN",avatar:"EditModal_avatar__YXab1",inputContainer:"EditModal_inputContainer__15Aly",closeButton:"EditModal_closeButton__3CQGB TweetModal_closeButton__2P0w1",backButton:"EditModal_backButton__2fiTB TweetModal_backButton__6RCp7"}},328:function(e,t){},33:function(e,t,n){e.exports={HeaderContainer:"Headers_HeaderContainer__19rIh",imgContainer:"Headers_imgContainer__n5_4R",contentContainer:"Headers_contentContainer__3-c0c",name:"Headers_name__13W7q",tweetCount:"Headers_tweetCount__1qjfQ",Header:"Headers_Header__2REwf",skeleton:"Headers_skeleton__1BX-y"}},330:function(e,t){},331:function(e,t){},336:function(e,t){},338:function(e,t){},35:function(e,t,n){e.exports={tweetCardContainer:"TweetCard_tweetCardContainer__y3wZD",tweetCard:"TweetCard_tweetCard__uMegz",avatar:"TweetCard_avatar__2tTs5",contentContainer:"TweetCard_contentContainer__pZRvM",nameAndUserId:"TweetCard_nameAndUserId__3fF49",name:"TweetCard_name__2tpUm",userIdTime:"TweetCard_userIdTime__18MD4",tweet:"TweetCard_tweet__1UMUb",replyContainer:"TweetCard_replyContainer__26QyC",reply:"TweetCard_reply__1E0Ez",replyId:"TweetCard_replyId__2LXc8",countContainer:"TweetCard_countContainer__13mob",count:"TweetCard_count__3CpDt",replyIcon:"TweetCard_replyIcon__W43PK",isLikeIcon:"TweetCard_isLikeIcon__2QqCQ",likeIcon:"TweetCard_likeIcon__g7C0Z",NavbarLogo:"TweetCard_NavbarLogo__3yO1_",navbarContainer:"TweetCard_navbarContainer__JkYgC",NavbarGroup:"TweetCard_NavbarGroup__qKbmG"}},357:function(e,t){},36:function(e,t,n){e.exports={tweetCardContainer:"LikeCard_tweetCardContainer__13q5x",tweetCard:"LikeCard_tweetCard__3XQUh",avatar:"LikeCard_avatar__24xqS",contentContainer:"LikeCard_contentContainer__37DC9",nameAndUserId:"LikeCard_nameAndUserId__SrFNa",name:"LikeCard_name__2YagV",userIdTime:"LikeCard_userIdTime__1mUF6",tweet:"LikeCard_tweet__RQJtd",replyContainer:"LikeCard_replyContainer__1dRZ2",reply:"LikeCard_reply__SQbRn",replyId:"LikeCard_replyId__2QJx7",countContainer:"LikeCard_countContainer__ldYXY",count:"LikeCard_count__18xHE",replyIcon:"LikeCard_replyIcon__1ds2G",isLikeIcon:"LikeCard_isLikeIcon__39d9j",likeIcon:"LikeCard_likeIcon__2TZdY"}},369:function(e,t){},37:function(e,t,n){e.exports={container:"OtherUserInfo_container__3cpZA",bgContainer:"OtherUserInfo_bgContainer__1H3Ua",avatarContainer:"OtherUserInfo_avatarContainer__1kjKN",buttonContainer:"OtherUserInfo_buttonContainer__6MVqX",button:"OtherUserInfo_button__3j91H",textContainer:"OtherUserInfo_textContainer__3dMmx",name:"OtherUserInfo_name__3L_5i",account:"OtherUserInfo_account__39yAz",description:"OtherUserInfo_description__3ulRH",linkGroup:"OtherUserInfo_linkGroup__1JTa6",link:"OtherUserInfo_link__uU2fr",skeleton:"OtherUserInfo_skeleton__UF_ja UserInfo_skeleton__3CHbh",buttonFollowing:"OtherUserInfo_buttonFollowing__1mc1H",buttonFollower:"OtherUserInfo_buttonFollower__3fvMV",bellOpen:"OtherUserInfo_bellOpen__2DE1G",bellClose:"OtherUserInfo_bellClose__2pmyP",emailContainer:"OtherUserInfo_emailContainer__1DEdm"}},372:function(e,t){},39:function(e,t,n){e.exports={inputGroupDefault:"AuthInput_inputGroupDefault__3IegH",inputGroupError:"AuthInput_inputGroupError__3nzBf",input:"AuthInput_input__B3Fvj",label:"AuthInput_label__wKdHN",small:"AuthInput_small__37SbA",hint:"AuthInput_hint__2i-Xa",hintLeft:"AuthInput_hintLeft__xhyDI",hintRight:"AuthInput_hintRight__11PT-"}},392:function(e,t,n){"use strict";n.r(t);var a,r,c,i,o=n(1),s=n.n(o),l=n(233),u=n.n(l),d=(n(247),n(9)),m=n(7),j=n(3),b=n(4),f=n(62),p=n.n(f),h=["title","titleId"];function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},O.apply(this,arguments)}function v(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _(e,t){var n=e.title,s=e.titleId,l=v(e,h);return o.createElement("svg",O({width:50,height:50,viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},l),n?o.createElement("title",{id:s},n):null,a||(a=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.6996 23.4709C30.6996 23.4709 23.2328 35.5781 17.1109 35.5781C6.40311 35.5781 16.382 12.5132 24.1916 12.5132C29.641 12.5132 30.6996 23.4709 30.6996 23.4709Z",fill:"#FF6600"})),r||(r=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.5723 38.6972C37.4451 40.9607 34.8198 42.6976 31.9044 43.7701C28.989 44.8426 25.8639 45.2213 22.7767 44.8761C19.6895 44.5309 16.7252 43.4713 14.1188 41.7813C11.5125 40.0914 9.33573 37.8175 7.76123 35.1401C9.5314 37.5477 12.5338 39.1527 16.803 39.1527C27.3199 39.1527 33.2899 30.98 33.2899 30.98C33.2899 30.98 33.8062 37.4392 39.5593 38.6972H39.5723Z",fill:"#FF6600"})),c||(c=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42.7223 15.7451C44.2963 18.7527 45.0781 22.1116 44.9939 25.505C44.9096 28.8984 43.9621 32.2144 42.2407 35.1401C40.8792 34.3764 39.8725 33.1082 39.4379 31.609L37.1558 24.7724L42.7223 15.7451Z",fill:"#FF6600"})),i||(i=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.0031 5.01737C30.0185 5.01403 34.8513 6.89881 38.5398 10.2967L34.7521 16.4088C33.3811 12.843 30.5957 9.2729 25.1767 9.2729C14.0784 9.2729 5.85231 21.3888 5.85231 28.9846C5.84986 29.9669 5.97528 30.9454 6.22543 31.8953C5.11558 28.8725 4.75205 25.6265 5.16572 22.4331C5.57938 19.2398 6.75802 16.1934 8.60147 13.5531C10.4449 10.9127 12.8987 8.75634 15.7542 7.26726C18.6097 5.77818 21.7826 5.00039 25.0031 5V5.01737Z",fill:"#FF6600"})))}var g,C=o.forwardRef(_),x=(n.p,n(39)),w=n.n(x),N=n(0),y=function(e){var t=e.label,n=e.id,a=e.type,r=e.placeholder,c=e.value,i=e.maxLength,s=e.onChange,l=e.height,u=void 0===l?54:l,d=e.responseError,m=e.errorInfo,j=e.name,f=e.disabled,p=Object(o.useState)(!1),h=Object(b.a)(p,2),O=h[0],v=h[1],_=Object(o.useState)(""),g=Object(b.a)(_,2),C=g[0],x=g[1],y=d&&m.includes(n),I=d&&m.includes("\u4e0d\u5b58\u5728")&&"account"===n,k=(c||"").length,P={height:"".concat(u,"px")},L=w.a.inputGroupDefault;(I||y||O)&&(L+=" ".concat(w.a.inputGroupError));var U="\u540d\u7a31"===t||"\u81ea\u6211\u4ecb\u7d39"===t;return Object(o.useEffect)((function(){if(i)return k>i?(v(!0),void x("\u5b57\u6578\u8d85\u51fa\u4e0a\u9650!")):(v(!1),void x(""))}),[i,k]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:L,style:P,children:[Object(N.jsx)("label",{className:w.a.label,htmlFor:n,children:t}),Object(N.jsx)("input",{type:a,name:j,className:w.a.input,id:n,placeholder:r,value:c,onChange:function(e){return s(e.target.value)},disabled:f})]}),Object(N.jsxs)("small",{className:w.a.small,children:[y&&Object(N.jsx)("span",{className:"".concat(w.a.hint," ").concat(w.a.hintLeft),children:m}),I&&Object(N.jsx)("span",{className:"".concat(w.a.hint," ").concat(w.a.hintLeft),children:m}),!y&&C&&Object(N.jsx)("span",{className:"".concat(w.a.hint," ").concat(w.a.hintLeft),children:C}),c&&Object(N.jsx)("span",{className:"".concat(w.a.hint," ").concat(w.a.hintRight),children:U&&Object(N.jsxs)("span",{children:[k," / ",i]})})]})]})},I=n(43),k=n.n(I),P=n(31),L=n.n(P),U=["title","titleId"];function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},E.apply(this,arguments)}function A(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function M(e,t){var n=e.title,a=e.titleId,r=A(e,U);return o.createElement("svg",E({width:10,height:10,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?o.createElement("title",{id:a},n):null,g||(g=o.createElement("path",{d:"M4.99989 0.166992C2.31989 0.166992 0.139893 2.34699 0.139893 5.02699C0.139893 7.70699 2.31989 9.88699 4.99989 9.88699C7.67989 9.88699 9.85989 7.70699 9.85989 5.02699C9.85989 2.34699 7.67989 0.166992 4.99989 0.166992V0.166992ZM6.99989 5.74999H5.74989V6.99999C5.74989 7.41399 5.41389 7.74999 4.99989 7.74999C4.58589 7.74999 4.24989 7.41399 4.24989 6.99999V5.74999H2.99989C2.58589 5.74999 2.24989 5.41399 2.24989 4.99999C2.24989 4.58599 2.58589 4.24999 2.99989 4.24999H4.24989V2.99999C4.24989 2.58599 4.58589 2.24999 4.99989 2.24999C5.41389 2.24999 5.74989 2.58599 5.74989 2.99999V4.24999H6.99989C7.41389 4.24999 7.74989 4.58599 7.74989 4.99999C7.74989 5.41399 7.41389 5.74999 6.99989 5.74999Z",fill:"white"})))}var F,S=o.forwardRef(M),T=(n.p,["title","titleId"]);function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},R.apply(this,arguments)}function H(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function B(e,t){var n=e.title,a=e.titleId,r=H(e,T);return o.createElement("svg",R({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?o.createElement("title",{id:a},n):null,F||(F=o.createElement("path",{d:"M9.41412 8.00012L15.2071 2.20712C15.5971 1.81712 15.5971 1.18412 15.2071 0.793119C14.8171 0.402119 14.1841 0.403119 13.7931 0.793119L8.00012 6.58612L2.20712 0.793119C1.81712 0.403119 1.18412 0.403119 0.793119 0.793119C0.402119 1.18312 0.403119 1.81612 0.793119 2.20712L6.58612 8.00012L0.793119 13.7931C0.403119 14.1831 0.403119 14.8161 0.793119 15.2071C0.988119 15.4021 1.24312 15.5001 1.50012 15.5001C1.75712 15.5001 2.01212 15.4021 2.20712 15.2071L8.00012 9.41412L13.7931 15.2071C13.9881 15.4021 14.2431 15.5001 14.5001 15.5001C14.7571 15.5001 15.0121 15.4021 15.2071 15.2071C15.5971 14.8171 15.5971 14.1841 15.2071 13.7931L9.41412 8.00012Z",fill:"white"})))}var Y,q=o.forwardRef(B),Z=(n.p,["title","titleId"]);function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},G.apply(this,arguments)}function K(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D(e,t){var n=e.title,a=e.titleId,r=K(e,Z);return o.createElement("svg",G({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?o.createElement("title",{id:a},n):null,Y||(Y=o.createElement("path",{d:"M13.4139 11.9999L19.2069 6.20687C19.5969 5.81687 19.5969 5.18388 19.2069 4.79288C18.8169 4.40188 18.1839 4.40288 17.7929 4.79288L11.9999 10.5859L6.20687 4.79288C5.81687 4.40288 5.18388 4.40288 4.79288 4.79288C4.40188 5.18288 4.40288 5.81587 4.79288 6.20687L10.5859 11.9999L4.79288 17.7929C4.40288 18.1829 4.40288 18.8159 4.79288 19.2069C4.98788 19.4019 5.24287 19.4999 5.49987 19.4999C5.75687 19.4999 6.01187 19.4019 6.20687 19.2069L11.9999 13.4139L17.7929 19.2069C17.9879 19.4019 18.2429 19.4999 18.4999 19.4999C18.7569 19.4999 19.0119 19.4019 19.2069 19.2069C19.5969 18.8169 19.5969 18.1839 19.2069 17.7929L13.4139 11.9999Z",fill:"#FF6600"})))}var Q,V,J=o.forwardRef(D),z=(n.p,["title","titleId"]);function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},W.apply(this,arguments)}function X(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $(e,t){var n=e.title,a=e.titleId,r=X(e,z);return o.createElement("svg",W({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?o.createElement("title",{id:a},n):null,Q||(Q=o.createElement("g",{clipPath:"url(#clip0_34236_4151)"},o.createElement("g",{filter:"url(#filter0_d_34236_4151)"},o.createElement("path",{d:"M20 10.9999H7.41399L11.707 6.70687C12.097 6.31687 12.097 5.68388 11.707 5.29288C11.317 4.90188 10.684 4.90288 10.293 5.29288L4.29299 11.2929C3.90299 11.6829 3.90299 12.3159 4.29299 12.7069L10.293 18.7069C10.488 18.9019 10.743 18.9999 11 18.9999C11.257 18.9999 11.512 18.9019 11.707 18.7069C12.097 18.3169 12.097 17.6839 11.707 17.2929L7.41399 12.9999H20C20.553 12.9999 21 12.5529 21 11.9999C21 11.4469 20.553 10.9999 20 10.9999Z",fill:"black"})))),V||(V=o.createElement("defs",null,o.createElement("filter",{id:"filter0_d_34236_4151",x:488281e-9,y:5,width:24.9995,height:22,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),o.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),o.createElement("feOffset",{dy:4}),o.createElement("feGaussianBlur",{stdDeviation:2}),o.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),o.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),o.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_34236_4151"}),o.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_34236_4151",result:"shape"})),o.createElement("clipPath",{id:"clip0_34236_4151"},o.createElement("rect",{width:24,height:24,fill:"white"})))))}var ee=o.forwardRef($),te=(n.p,n(2)),ne=n(6),ae=n(69),re=n.n(ae),ce=re.a.create({baseURL:"https://twitter-ac-team-d93c31406834.herokuapp.com/api"});ce.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)})),ce.interceptors.response.use((function(e){return e.data}),(function(e){return e.response?e.response.data:Promise.reject(e)}));var ie,oe="https://twitter-ac-team-d93c31406834.herokuapp.com/api",se=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n,a,r;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,a=t.password,e.prev=1,e.next=4,re.a.post("".concat(oe,"/users/login"),{account:n,password:a});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n,a,r,c,i,o;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,a=t.name,r=t.password,c=t.email,i=t.checkPassword,e.prev=1,e.next=4,re.a.post("".concat(oe,"/users"),{account:n,name:a,password:r,email:c,checkPassword:i});case 4:return o=e.sent,e.abrupt("return",o.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n,a,r,c,i,o,s;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.account,r=t.name,c=t.email,i=t.password,o=t.checkPassword,e.prev=1,e.next=4,ce.put("/users/".concat(n),{account:a,name:r,email:c,password:i,checkPassword:o});case 4:return s=e.sent,e.abrupt("return",s);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n,a,r,c,i,o,s,l;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.name,r=t.avatar,c=t.cover,i=t.introduction,o=localStorage.getItem("token"),e.prev=2,(s=new FormData).append("name",a),s.append("avatar",r),s.append("cover",c),s.append("introduction",i),e.next=10,re.a.put("".concat(oe,"/users/").concat(n,"/profile"),s,{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"multipart/form-data"}});case 10:return l=e.sent,e.abrupt("return",l);case 14:throw e.prev=14,e.t0=e.catch(2),e.t0;case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n,a,r,c;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.signal,r=a?{signal:a}:{},e.prev=2,e.next=5,ce.get("/users/".concat(n),r);case 5:return c=e.sent,e.abrupt("return",c);case 9:throw e.prev=9,e.t0=e.catch(2),e.t0;case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n,a,r;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.signal,e.prev=1,e.next=4,ce.get("/users/".concat(n,"/tweets"),{signal:a});case 4:return r=e.sent,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(1),console.error("Error:cannot get user tweet",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n,a,r;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.signal,e.prev=1,e.next=4,ce.get("/users/".concat(n,"/replied_tweets"),{signal:a});case 4:return r=e.sent,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(1),console.error("Error:cannot get user replied tweet",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n,a,r;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.signal,e.prev=1,e.next=4,ce.get("/users/".concat(n,"/likes"),{signal:a});case 4:return r=e.sent,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(1),console.error("Error:cannot get user likes",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n,a;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.prev=1,e.next=4,ce.get("/users/".concat(n,"/followings"));case 4:return a=e.sent,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(1),console.error("Error: cannnot get user followings",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n,a;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.prev=1,e.next=4,ce.get("/users/".concat(n,"/followers"));case 4:return a=e.sent,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(1),console.error("Error: cannnot get user followers",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(){var t;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.get("/users/topFollowers");case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ve=n(18),_e=n.n(ve),ge=n(122),Ce=n(397),xe=n(396),we={position:"absolute",bottom:"50%",left:"50%",translate:"-25%"},Ne=function(e){var t=e.open,n=e.onClose,a=e.userId,r=e.userData,c=r.avatar,i=r.cover,s=r.name,l=r.introduction,u=Object(o.useState)(s),d=Object(b.a)(u,2),m=d[0],j=d[1],f=Object(o.useState)(c),p=Object(b.a)(f,2),h=p[0],O=p[1],v=Object(o.useState)(i),_=Object(b.a)(v,2),g=_[0],C=_[1],x=Object(o.useState)(l),w=Object(b.a)(x,2),I=w[0],k=w[1],P=Object(o.useState)(""),U=Object(b.a)(P,2),E=U[0],A=U[1],M=Object(o.useState)(""),F=Object(b.a)(M,2),T=F[0],R=F[1],H=Object(ge.b)(),B=Object(Ce.a)({mutationFn:function(){if(null===m||void 0===m||!m.trim()||null===I||void 0===I||!I.trim())throw _e.a.fire({title:"\u5167\u5bb9\u4e0d\u53ef\u7a7a\u767d",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),new Error("\u5167\u5bb9\u4e0d\u53ef\u7a7a\u767d");if(m.length>50||I.length>160)throw _e.a.fire({title:"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650!",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),new Error("\u5b57\u6578\u8d85\u51fa\u4e0a\u9650");return de({id:a,name:m,avatar:h,cover:g,introduction:I})},onSuccess:function(e){if("success"!==e.data.status)_e.a.fire({title:"\u7de8\u8f2f\u5931\u6557",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"});else{if(H.invalidateQueries({queryKey:["getUser",{id:a}]}),H.invalidateQueries({queryKey:["getUserTweets",{id:a}]}),_e.a.fire({title:"\u7de8\u8f2f\u6210\u529f",icon:"success",showConfirmButton:!1,timer:2e3,position:"top"}),E){var t=URL.createObjectURL(h);localStorage.setItem("avatar",t)}n(!1)}}});if(t)return Object(N.jsx)("div",{className:L.a.grayBackground,children:Object(N.jsxs)("div",{className:"".concat(L.a.container," ").concat(B.isLoading&&"".concat(L.a.isLoading)),children:[Object(N.jsxs)("header",{className:L.a.header,children:[Object(N.jsxs)("div",{className:L.a.leftContainer,children:[Object(N.jsxs)("button",{onClick:function(){return n(!1)},disabled:B.isLoading,children:[Object(N.jsx)(J,{className:L.a.closeButton}),Object(N.jsx)(ee,{className:L.a.backButton})]}),Object(N.jsx)("h5",{className:"title",children:"\u7de8\u8f2f\u500b\u4eba\u8cc7\u6599"})]}),Object(N.jsx)("button",{className:L.a.saveButton,onClick:B.mutate,disabled:B.isLoading,children:" \u5132\u5b58 "})]}),Object(N.jsxs)("label",{htmlFor:"coverUpload",className:L.a.bgContainer,children:[T?Object(N.jsx)("img",{src:T,alt:"Preview"}):Object(N.jsx)("img",{src:g,alt:"cover"}),Object(N.jsx)(S,{className:L.a.upload}),Object(N.jsx)(q,{className:L.a.fork})]}),Object(N.jsx)("input",{type:"file",id:"coverUpload",style:{display:"none"},accept:"image/*",onChange:function(e){var t=e.target.files[0];if(t){C(t);var n=new FileReader;n.onload=function(e){R(e.target.result)},n.readAsDataURL(t)}},disabled:B.isLoading}),Object(N.jsxs)("label",{htmlFor:"Avatarupload",className:L.a.avatarContainer,children:[E?Object(N.jsx)("img",{src:E,alt:"Preview",className:L.a.avatar}):Object(N.jsx)("img",{src:h,alt:"avatar",className:L.a.avatar}),Object(N.jsx)(S,{className:L.a.upload})]}),Object(N.jsx)("input",{type:"file",id:"Avatarupload",style:{display:"none"},accept:"image/*",onChange:function(e){var t=e.target.files[0];if(t){O(t);var n=new FileReader;n.onload=function(e){A(e.target.result)},n.readAsDataURL(t)}},disabled:B.isLoading}),Object(N.jsxs)("div",{className:L.a.inputContainer,children:[Object(N.jsx)(xe.a,{size:60,color:"#cccccc",loading:B.isLoading,cssOverride:we}),Object(N.jsx)(y,{value:m,label:"\u540d\u7a31",id:"username",type:"text",placeholder:"\u8acb\u8f38\u5165\u4f7f\u7528\u8005\u540d\u7a31",maxLength:50,onChange:function(e){return j(e)},disabled:B.isLoading}),Object(N.jsx)(y,{value:I,label:"\u81ea\u6211\u4ecb\u7d39",id:"introduction",type:"text",placeholder:"\u8acb\u8f38\u5165\u81ea\u6211\u4ecb\u7d39",maxLength:160,height:147,onChange:function(e){return k(e)},disabled:B.isLoading})]})]})})},ye=n(394),Ie=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.post("/tweets",{description:t});case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n,a;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signal,e.prev=1,e.next=4,ce.get("/tweets",{signal:n});case 4:return a=e.sent,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n,a,r;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.comment,e.prev=1,e.next=4,ce.post("/tweets/".concat(n,"/replies"),{comment:a});case 4:return r=e.sent,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n,a,r;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.signal,e.prev=1,e.next=4,ce.get("/tweets/".concat(n,"/replies"),{signal:a});case 4:return r=e.sent,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n,a,r,c;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.signal,e.prev=1,r=a?{signal:a}:{},e.next=5,ce.get("/tweets/".concat(n),r);case 5:return c=e.sent,e.abrupt("return",c);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n,a,r;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,a=t.password,e.prev=1,e.next=4,re.a.post("".concat("https://twitter-ac-team-d93c31406834.herokuapp.com/api","/admin/login"),{account:n,password:a});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n,a;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signal,e.prev=1,e.next=4,ce.get("/admin/usersdata",{signal:n});case 4:return a=e.sent,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n,a;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signal,e.prev=1,e.next=4,ce.get("/admin/tweets",{signal:n});case 4:return a=e.sent,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.delete("/admin/tweets/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Se=function(e){var t=Object(ye.a)({queryKey:["getUser",{id:e}],queryFn:function(e){var t=e.queryKey,n=e.signal;return me({id:t[1].id,signal:n})},enabled:!!e,refetchOnWindowFocus:!1});return{data:t.data,isLoading:t.isLoading,isFetching:t.isFetching}},Te=n(19),Re=function(e){var t=e.userId,n=Object(o.useState)(!1),a=Object(b.a)(n,2),r=a[0],c=a[1],i=Se(t),s=i.data,l=i.isLoading,u=s||{},m=u.account,j=u.avatar,f=u.cover,p=u.name,h=u.introduction,O=u.followersCount,v=u.followingsCount;return l?Object(N.jsx)(Te.a,{className:k.a.skeleton}):Object(N.jsxs)("div",{className:k.a.container,children:[Object(N.jsx)("div",{className:k.a.bgContainer,children:Object(N.jsx)("img",{src:f,alt:"background"})}),Object(N.jsx)("div",{className:k.a.avatarContainer,children:Object(N.jsx)("img",{src:j,alt:"avatar"})}),Object(N.jsx)("div",{className:k.a.buttonContainer,children:Object(N.jsx)("button",{className:k.a.button,type:"button",onClick:function(){c(!0)},children:"\u7de8\u8f2f\u500b\u4eba\u8cc7\u6599"})}),Object(N.jsxs)("div",{className:k.a.textContainer,children:[Object(N.jsx)("h5",{className:k.a.name,children:p}),Object(N.jsxs)("span",{className:k.a.account,children:["@",m]}),Object(N.jsx)("p",{children:h}),Object(N.jsxs)("div",{className:k.a.linkGroup,children:[Object(N.jsxs)(d.b,{to:"/".concat(t,"/followings"),className:k.a.link,children:[v,"\u500b",Object(N.jsx)("span",{children:"\u6b63\u5728\u8ffd\u96a8"})]}),Object(N.jsxs)(d.b,{to:"/".concat(t,"/followers"),className:k.a.link,children:[O,"\u500b",Object(N.jsx)("span",{children:"\u8ddf\u96a8\u8005"})]})]})]}),r&&Object(N.jsx)(Ne,{open:r,onClose:function(e){return c(e)},userId:t,userData:s})]})},He=n(44),Be=n.n(He),Ye=n(106),qe=n(240),Ze=Object(qe.a)("https://twitter-ac-team-d93c31406834.herokuapp.com",{autoConnect:!1}),Ge={isAuthenticated:!1,user:null,register:null,logout:null},Ke=Object(o.createContext)(Ge),De=function(){return Object(o.useContext)(Ke)},Qe=function(e){var t=e.children,n=Object(o.useState)(!1),a=Object(b.a)(n,2),r=a[0],c=a[1],i=Object(o.useState)(null),s=Object(b.a)(i,2),l=s[0],u=s[1],d=Object(m.m)().pathname,j=Object(m.p)();return Object(o.useEffect)((function(){var e=function(){Ze.emit("client-join",null===l||void 0===l?void 0:l.id)},t=function(){var t=Object(ne.a)(Object(te.a)().mark((function t(){var n,a;return Object(te.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=localStorage.getItem("token")){t.next=8;break}return c(!1),u(null),Ze.emit("client-leave",(function(){Ze.disconnect()})),t.abrupt("return");case 8:a=Ye.decode(n),u(a),c(!0),Ze.connect(),Ze.on("connect",e);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t(),function(){Ze.off("connect",e)}}),[d,null===Ze||void 0===Ze?void 0:Ze.connected]),Object(N.jsx)(Ke.Provider,{value:{isAuthenticated:r,user:l&&{id:l.id,name:l.name,role:l.role,avatar:l.avatar,account:l.account,introduction:l.introduction,email:l.email,cover:l.cover},payload:l,setPayload:u,setIsAuthenticated:c,logout:function(){Ze&&(Ze.emit("client-leave",(function(){Ze.disconnect()})),Ze.off(),localStorage.clear(),u(null),c(!1),j("/login"))}},children:t})},Ve=Object(o.createContext)(),Je=function(){return Object(o.useContext)(Ve)},ze=function(e){var t=e.children;return Object(N.jsx)(Ve.Provider,{value:Ze,children:t})},We=function(e){var t=Object(ge.b)(),n=Object(o.useState)(""),a=Object(b.a)(n,2),r=a[0],c=a[1],i=Object(o.useState)(""),s=Object(b.a)(i,2),l=s[0],u=s[1],d=Je(),m=De().user,j=Object(Ce.a)({mutationFn:function(){var e=Object(ne.a)(Object(te.a)().mark((function e(){return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.trim()){e.next=4;break}throw _e.a.fire({title:"\u5167\u5bb9\u4e0d\u53ef\u7a7a\u767d",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),u("\u5167\u5bb9\u4e0d\u53ef\u7a7a\u767d"),new Error("\u5167\u5bb9\u4e0d\u53ef\u7a7a\u767d");case 4:if(!(r.length>140)){e.next=8;break}throw _e.a.fire({title:"\u5167\u5bb9\u8d85\u51fa\u4e0a\u9650",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),u("\u5167\u5bb9\u4e0d\u53ef\u8d85\u904e140\u5b57"),new Error("\u5167\u5bb9\u4e0d\u53ef\u8d85\u904e140\u5b57");case 8:return e.next=10,Ie(r);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSuccess:function(n){if(t.invalidateQueries({queryKey:["getAllTweets"]}),t.invalidateQueries({queryKey:["getUser",{id:m.id}]}),t.invalidateQueries({queryKey:["getUserTweets",{id:m.id}]}),d.emit("client-push-notice","tweet"),"success"===n.status)return _e.a.fire({title:"\u5167\u5bb9\u6210\u529f\u63d0\u4ea4",icon:"success",showConfirmButton:!1,timer:3e3,position:"top"}),c(""),u(""),void(e&&e(!1))}});return{mutation:j,message:l,tweetText:r,setTweetText:c}},Xe=n(131),$e=n.n(Xe),et={position:"absolute",bottom:"50%",left:"50%"},tt=function(e){var t=e.open,n=e.onClose,a=De().user,r=We(n),c=r.mutation,i=r.message,o=r.tweetText,s=r.setTweetText,l=localStorage.getItem("avatar")?localStorage.getItem("avatar"):a.avatar;if(t)return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:Be.a.background,children:Object(N.jsxs)("div",{className:"".concat(Be.a.container," ").concat(c.isLoading&&"".concat(Be.a.isLoading)),children:[Object(N.jsx)("div",{className:Be.a.buttonContainer,children:Object(N.jsxs)("button",{onClick:function(){return n(!1)},children:[Object(N.jsx)(J,{className:Be.a.closeButton}),Object(N.jsx)(ee,{className:Be.a.backButton})]})}),Object(N.jsxs)("div",{className:Be.a.ContentContainer,children:[Object(N.jsx)("div",{className:"".concat(Be.a.avatarContainer," ").concat(Be.a.down),children:Object(N.jsx)("img",{src:l,alt:"avatar"})}),Object(N.jsxs)("div",{className:Be.a.textareaContainer,children:[Object(N.jsx)($e.a,{size:60,color:"#cccccc",loading:c.isLoading,cssOverride:et}),Object(N.jsx)("textarea",{style:{resize:"none",width:"88%"},value:o,onChange:function(e){return s(e.target.value)},placeholder:"\u6709\u4ec0\u9ebc\u65b0\u9bae\u4e8b?"}),Object(N.jsx)("small",{className:Be.a.small,children:i})]}),Object(N.jsx)("button",{className:Be.a.button,onClick:function(){return c.mutate()},disabled:c.isLoading,children:"\u63a8\u6587"})]})]})})})},nt=n(33),at=n.n(nt),rt=n.p+"static/media/back.d5843653.svg",ct=function(e){var t=e.userId,n=Object(m.p)(),a=Object(m.m)(),r=Se(t),c=r.data,i=r.isLoading,o=r.isFetching,s=function(){n(-1)};if(i&&o)return Object(N.jsx)(Te.a,{className:at.a.skeleton});var l="",u=a.pathname;return l="/main"===u?Object(N.jsx)("div",{className:at.a.Header,children:"\u9996\u9801"}):u.match(new RegExp("/profile|/".concat(t,"/followers|/").concat(t,"/followings|/").concat(t,"/(tweets|likes|replies)$|/").concat(t)))?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:at.a.imgContainer,children:Object(N.jsx)("img",{src:rt,alt:"left",onClick:s})}),Object(N.jsxs)("div",{className:at.a.contentContainer,children:[Object(N.jsx)("span",{className:at.a.name,children:null===c||void 0===c?void 0:c.name}),Object(N.jsxs)("div",{className:at.a.tweetCount,children:[null===c||void 0===c?void 0:c.tweetsCount," \u63a8\u6587"]})]})]}):u.includes("/otherProfile")?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:at.a.imgContainer,children:Object(N.jsx)("img",{src:rt,alt:"left",onClick:s})}),Object(N.jsxs)("div",{className:at.a.contentContainer,children:[Object(N.jsx)("span",{className:at.a.name,children:c.name}),Object(N.jsxs)("div",{className:at.a.tweetCount,children:[c.tweetsCount," \u63a8\u6587"]})]})]}):u.includes("/tweets/:tweetId")?Object(N.jsx)("div",{className:at.a.Header,children:"\u63a8\u6587"}):u.includes("/")?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:at.a.imgContainer,children:Object(N.jsx)("img",{src:rt,alt:"left",onClick:s})}),Object(N.jsx)("div",{className:at.a.contentContainer,children:Object(N.jsx)("div",{className:at.a.Header,children:" \u63a8\u6587"})})]}):"",Object(N.jsx)("div",{className:at.a.HeaderContainer,children:l})},it=n(70),ot=n.n(it),st=function(e){var t=e.user,n=Object(m.p)(),a=localStorage.getItem("avatar")?localStorage.getItem("avatar"):null===t||void 0===t?void 0:t.avatar,r=We(),c=r.mutation,i=r.message,o=r.tweetText,s=r.setTweetText;if(!t)return null;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)($e.a,{color:"#cccccc",loading:c.isLoading,cssOverride:{position:"absolute",top:"115px"}}),Object(N.jsxs)("div",{className:"".concat(ot.a.mainPostContainer," ").concat(c.isLoading&&"".concat(ot.a.isLoading)),children:[Object(N.jsx)("img",{className:ot.a.avatar,src:a,onClick:function(){return e=t.id,void n("/".concat(e));var e},alt:"avatar"}),Object(N.jsxs)("div",{className:ot.a.tweetArea,children:[Object(N.jsx)("textarea",{className:ot.a.tweetText,type:"text",placeholder:"\u6709\u4ec0\u9ebc\u65b0\u9bae\u4e8b\uff1f",value:o,onChange:function(e){return s(e.target.value)}}),Object(N.jsx)("small",{className:ot.a.small,children:i})]}),Object(N.jsx)("button",{className:ot.a.tweetButton,onClick:function(){c.mutate()},disabled:c.isLoading,children:"\u63a8\u6587"})]})]})},lt=n(236),ut=n.n(lt),dt=["title","titleId"];function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},mt.apply(this,arguments)}function jt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bt(e,t){var n=e.title,a=e.titleId,r=jt(e,dt);return o.createElement("svg",mt({width:30,height:30,viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?o.createElement("title",{id:a},n):null,ie||(ie=o.createElement("path",{d:"M15 27.0473H14.9825C11.7537 26.9873 2.4375 18.5698 2.4375 10.5973C2.4375 6.76728 5.59375 3.40479 9.19125 3.40479C12.0537 3.40479 13.9787 5.37979 14.9987 6.81729C16.0162 5.38229 17.9412 3.40479 20.805 3.40479C24.405 3.40479 27.56 6.76729 27.56 10.5985C27.56 18.5685 18.2425 26.986 15.0137 27.0448H15V27.0473ZM9.1925 5.28104C6.5925 5.28104 4.31375 7.76603 4.31375 10.5998C4.31375 17.7748 13.1062 25.0948 15.0012 25.1723C16.8987 25.0948 25.6887 17.776 25.6887 10.5998C25.6887 7.76603 23.41 5.28104 20.81 5.28104C17.65 5.28104 15.885 8.95104 15.87 8.98729C15.5825 9.68979 14.425 9.68979 14.1362 8.98729C14.1187 8.94979 12.355 5.28104 9.19375 5.28104H9.1925Z",fill:"#657786"})))}var ft,pt=o.forwardRef(bt),ht=(n.p,["title","titleId"]);function Ot(){return Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ot.apply(this,arguments)}function vt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _t(e,t){var n=e.title,a=e.titleId,r=vt(e,ht);return o.createElement("svg",Ot({width:30,height:30,viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?o.createElement("title",{id:a},n):null,ft||(ft=o.createElement("path",{d:"M15 27.0478H14.9825C11.7538 26.9878 2.4375 18.5703 2.4375 10.5978C2.4375 6.76777 5.59375 3.40527 9.19125 3.40527C12.0538 3.40527 13.9788 5.38027 14.9987 6.81777C16.0162 5.38277 17.9412 3.40527 20.805 3.40527C24.405 3.40527 27.56 6.76777 27.56 10.599C27.56 18.569 18.2425 26.9865 15.0138 27.0453H15V27.0478Z"})))}var gt,Ct=o.forwardRef(_t),xt=(n.p,["title","titleId"]);function wt(){return wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},wt.apply(this,arguments)}function Nt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yt(e,t){var n=e.title,a=e.titleId,r=Nt(e,xt);return o.createElement("svg",wt({width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?o.createElement("title",{id:a},n):null,gt||(gt=o.createElement("path",{d:"M15.4253 0.802539L10.2403 0.790039H10.2378C4.77029 0.790039 0.487793 5.07379 0.487793 10.5425C0.487793 15.665 4.47029 19.55 9.81904 19.755V24.54C9.81904 24.675 9.87404 24.8975 9.96904 25.0438C10.1465 25.325 10.449 25.4775 10.759 25.4775C10.9315 25.4775 11.1053 25.43 11.2615 25.33C11.5915 25.12 19.3528 20.155 21.3715 18.4475C23.749 16.435 25.1715 13.485 25.1753 10.5575V10.5363C25.1678 5.07754 20.8878 0.802539 15.4253 0.801289V0.802539ZM20.159 17.0175C18.7415 18.2175 14.0815 21.2738 11.694 22.8213V18.8375C11.694 18.32 11.2753 17.9 10.7565 17.9H10.2615C5.68654 17.9 2.36404 14.805 2.36404 10.5425C2.36404 6.12504 5.82404 2.66504 10.239 2.66504L15.4228 2.67754H15.4253C19.8403 2.67754 23.3003 6.13504 23.3028 10.5475C23.299 12.935 22.1253 15.3525 20.1603 17.0175H20.159Z",fill:"#6C757D"})))}var It,kt=o.forwardRef(yt),Pt=(n.p,n(12)),Lt=n.n(Pt),Ut=n(28),Et=n.n(Ut),At=n(23),Mt=n.n(At),Ft=["title","titleId"];function St(){return St=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},St.apply(this,arguments)}function Tt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rt(e,t){var n=e.title,a=e.titleId,r=Tt(e,Ft);return o.createElement("svg",St({width:2,height:86,viewBox:"0 0 2 86",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?o.createElement("title",{id:a},n):null,It||(It=o.createElement("rect",{width:2,height:86,fill:"#B5B5BE"})))}var Ht=o.forwardRef(Rt),Bt=(n.p,function(e){var t=e.id,n=e.comment,a=e.tweetOwnerId,r=e.onClose,c=Object(o.useState)(""),i=Object(b.a)(c,2),s=i[0],l=i[1],u=Je(),d=Object(ge.b)(),m=Object(Ce.a)({mutationFn:function(){var e=Object(ne.a)(Object(te.a)().mark((function e(){return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.trim()){e.next=4;break}throw _e.a.fire({title:"\u5167\u5bb9\u4e0d\u53ef\u7a7a\u767d",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),l("\u5167\u5bb9\u4e0d\u53ef\u7a7a\u767d"),new Error("\u5167\u5bb9\u4e0d\u53ef\u7a7a\u767d");case 4:if(!(n.length>140)){e.next=8;break}throw _e.a.fire({title:"\u5167\u5bb9\u8d85\u51fa\u4e0a\u9650",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),l("\u5167\u5bb9\u4e0d\u53ef\u8d85\u904e140\u5b57"),new Error("\u5167\u5bb9\u4e0d\u53ef\u8d85\u904e140\u5b57");case 8:return e.next=10,Pe({id:t,comment:n});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSuccess:function(e){if("success"===e.status)return _e.a.fire({title:"\u5167\u5bb9\u6210\u529f\u63d0\u4ea4",icon:"success",showConfirmButton:!1,timer:3e3,position:"top"}),d.invalidateQueries(["getATweetReply",{id:t}]),d.invalidateQueries(["getATweet",{id:t}]),d.invalidateQueries(["getAllTweets"]),d.invalidateQueries(["getUserTweets",{id:a}]),u.emit("client-push-notice","reply",a),void r(!1)}});return{mutation:m,message:s}});function Yt(e){var t=Lt()(),n=Lt()(e);return t.diff(n,"hour")<24?n.fromNow():n.format("YYYY/MM/DD")}Lt.a.extend(Et.a),Lt.a.locale("zh-tw");var qt=function(e){var t=e.onClose,n=e.open,a=e.tweetId,r=e.tweet,c=Object(o.useState)(""),i=Object(b.a)(c,2),s=i[0],l=i[1],u=De().user,d=localStorage.getItem("avatar")?localStorage.getItem("avatar"):u.avatar,m=r||{},j=m.description,f=m.createdAt,p=m.User,h=p||{},O=h.account,v=h.avatar,_=h.name,g=Bt({id:a,comment:s,tweetOwnerId:p.id,onClose:t}),C=g.mutation,x=g.message,w=!s.trim()||s.length>140;if(n)return Object(N.jsx)("div",{className:Mt.a.background,children:Object(N.jsxs)("div",{className:"".concat(Mt.a.container," ").concat(C.isLoading&&"".concat(Mt.a.isLoading)),children:[Object(N.jsx)("div",{className:Mt.a.buttonContainer,children:Object(N.jsxs)("button",{className:Mt.a.saveButton,onClick:function(){return t(!1)},children:[Object(N.jsx)(J,{className:Mt.a.closeButton}),Object(N.jsx)(ee,{className:Mt.a.backButton})]})}),Object(N.jsxs)("div",{className:Mt.a.ContentContainer,children:[Object(N.jsx)(xe.a,{size:60,color:"#cccccc",loading:C.isLoading,cssOverride:{position:"absolute",top:"45%",left:"45%"}}),Object(N.jsxs)("div",{className:Mt.a.leftContainer,children:[Object(N.jsx)("div",{className:"".concat(Mt.a.avatarContainer," ").concat(Mt.a.top),children:Object(N.jsx)("img",{src:v,alt:"\u63a8\u6587\u8005avatar"})}),Object(N.jsx)(Ht,{className:Mt.a.line}),Object(N.jsx)("div",{className:"".concat(Mt.a.avatarContainer," ").concat(Mt.a.down),children:Object(N.jsx)("img",{src:d,alt:"\u56de\u8986\u8005avatar"})})]}),Object(N.jsxs)("div",{className:Mt.a.rightContainer,children:[Object(N.jsxs)("div",{className:Mt.a.rightTopContainer,children:[Object(N.jsxs)("h5",{className:Mt.a.name,children:[_,Object(N.jsxs)("span",{children:["@",O,"\u30fb",Yt(f)]})]}),Object(N.jsx)("p",{className:Mt.a.introduction,children:j}),Object(N.jsxs)("p",{className:Mt.a.hint,children:["\u56de\u8986\u7d66",Object(N.jsxs)("span",{children:["@",O]})]})]}),Object(N.jsxs)("div",{className:Mt.a.rightBottomContainer,children:[Object(N.jsx)("textarea",{style:{resize:"none",width:"88%"},className:Mt.a.tweetText,value:s,onChange:function(e){return l(e.target.value)},placeholder:"\u63a8\u4f60\u7684\u56de\u8986"}),Object(N.jsxs)("div",{className:Mt.a.ReplyButtonContainer,children:[w&&Object(N.jsx)("small",{children:x}),Object(N.jsx)("button",{onClick:C.mutate,disabled:C.isLoading,children:"\u56de\u8986"})]})]})]})]})]})})},Zt=n(35),Gt=n.n(Zt),Kt=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.post("/tweets/".concat(t,"/like"));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error:cannot post like",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Dt=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.post("/tweets/".concat(t,"/unlike"));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error:cannot post unlike",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Qt=function(e){var t=e.tweetId,n=e.userId,a=Object(ge.b)(),r=Je(),c=Object(Ce.a)({mutationFn:function(){var e=Object(ne.a)(Object(te.a)().mark((function e(){return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSuccess:function(e){"success"===e.status&&(a.invalidateQueries(["getAllTweets"]),a.invalidateQueries(["getUserTweets",{id:n}]),a.invalidateQueries(["getUserLike",{id:n}]),a.invalidateQueries(["getATweet",{id:t}]),r.emit("client-push-notice","like",n))},onError:function(e){console.log(e)}});return{likeMutation:c}},Vt=function(e){var t=e.tweetId,n=e.userId,a=Object(ge.b)(),r=Object(Ce.a)({mutationFn:function(){var e=Object(ne.a)(Object(te.a)().mark((function e(){return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSuccess:function(e){console.log(n),"success"===e.status&&(a.invalidateQueries(["getAllTweets"]),a.invalidateQueries(["getUserTweets",{id:n}]),a.invalidateQueries(["getUserLike",{id:n}]),a.invalidateQueries(["getATweet",{id:t}]))},onError:function(e){console.log(e)}});return{unlikeMutation:r}};function Jt(e){var t=Lt()(),n=Lt()(e);return t.diff(n,"hour")<24?n.fromNow():n.format("YYYY/MM/DD")}Lt.a.extend(Et.a),Lt.a.locale("zh-tw");var zt=function(e){var t,n=e.User,a=e.tweet,r=e.tweetId,c=e.userId,i=Object(o.useState)(!1),s=Object(b.a)(i,2),l=s[0],u=s[1],d=Object(o.useState)(null),j=Object(b.a)(d,2),f=j[0],p=(j[1],Qt({tweetId:r,userId:c}).likeMutation),h=Vt({tweetId:r,userId:c}).unlikeMutation,O=Object(m.p)();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:Gt.a.tweetCardContainer,children:Object(N.jsxs)("div",{className:Gt.a.tweetCard,onClick:function(e){return function(e){O("/tweets/".concat(e))}(a.id)},children:[Object(N.jsx)("img",{src:null===a||void 0===a||null===(t=a.User)||void 0===t?void 0:t.avatar,className:Gt.a.avatar,onClick:function(e){return function(e,t){e.stopPropagation(),O("/".concat(t))}(e,a.User.id)},alt:"avatar"}),Object(N.jsxs)("div",{className:Gt.a.contentContainer,children:[Object(N.jsxs)("div",{className:Gt.a.nameAndUserId,children:[Object(N.jsx)("span",{className:Gt.a.name,children:null===a||void 0===a?void 0:a.User.name}),Object(N.jsxs)("span",{className:Gt.a.userIdTime,children:["@",null===a||void 0===a?void 0:a.User.account,"\u30fb",Jt(null===a||void 0===a?void 0:a.createdAt)]})]}),Object(N.jsx)("div",{className:Gt.a.tweet,children:null===a||void 0===a?void 0:a.description}),Object(N.jsxs)("div",{className:Gt.a.countContainer,children:[Object(N.jsxs)("div",{className:Gt.a.count,children:[Object(N.jsx)(kt,{className:Gt.a.replyIcon,onClick:function(e){e.stopPropagation(),u(!0)}}),null===a||void 0===a?void 0:a.repliesCount]}),Object(N.jsxs)("div",{className:Gt.a.count,children:[null!==a&&void 0!==a&&a.isCurrentUserLiked?Object(N.jsx)(Ct,{className:Gt.a.isLikeIcon,onClick:function(e){e.stopPropagation(),h.mutate()}}):Object(N.jsx)(pt,{className:Gt.a.likeIcon,onClick:function(e){e.stopPropagation(),p.mutate()}}),null===a||void 0===a?void 0:a.likesCount]})]})]})]})}),l&&Object(N.jsx)(qt,{open:l,onClose:function(e){return u(e)},User:n,tweet:a,tweetId:a.id,currentUserAvatar:f})]})},Wt=function(){var e=De().user,t=function(e){var t=Object(ye.a)({queryKey:["getAllTweets"],queryFn:function(e){var t=e.signal;return ke({signal:t})},enabled:!!e,refetchOnWindowFocus:!1});return{data:t.data,isLoading:t.isLoading}}(e),n=t.data,a=t.isLoading;return e?a?Object(N.jsx)(Te.a,{count:10,className:ut.a.skeleton}):n&&Array.isArray(n)?a?null:n.map((function(e){return null!==e&&void 0!==e&&e.User?Object(N.jsx)(zt,{tweet:e,tweetId:e.id,userId:e.UserId,type:"alltweet"},e.id):null})):void 0:null},Xt=n(108),$t=n.n(Xt),en=n(63),tn=n.n(en),nn=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.post("/followships",{id:t});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error:cannot post follow",e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),an=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){var n;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.delete("/followships/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error:cannot unfollow",e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),rn=function(e){var t=e.userId,n=e.cardId,a=Object(ge.b)(),r=Object(Ce.a)({mutationFn:function(){var e=Object(ne.a)(Object(te.a)().mark((function e(){return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nn(n||t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSuccess:function(e){"success"===e.status&&(console.log(t),a.invalidateQueries(["getTopFollowers"]),a.invalidateQueries(["getUserFollowers",{id:t}]),a.invalidateQueries(["getUserFollowings",{id:t}]),a.invalidateQueries(["getUser",{id:t}]))},onError:function(e){console.log(e)}});return{followMutation:r}},cn=function(e){var t=e.userId,n=e.cardId,a=Object(ge.b)(),r=Object(Ce.a)({mutationFn:function(){var e=Object(ne.a)(Object(te.a)().mark((function e(){return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(n||t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSuccess:function(e){"success"===e.status&&(console.log(t),a.invalidateQueries(["getTopFollowers"]),a.invalidateQueries(["getUserFollowers",{id:t}]),a.invalidateQueries(["getUserFollowings",{id:t}]),a.invalidateQueries(["getUser",{id:t}]))},onError:function(e){console.log(e)}});return{unFollowMutation:r}},on=function(e){var t=e.user,n=Object(m.r)().id,a=t.isCurrentUserFollowed?tn.a.buttonFollowing:tn.a.buttonFollower,r=t.isCurrentUserFollowed?"\u6b63\u5728\u8ddf\u96a8":"\u8ddf\u96a8",c=rn({userId:Number(n),cardId:t.id}).followMutation,i=cn({userId:Number(n),cardId:t.id}).unFollowMutation,o=Object(m.p)();return Object(N.jsx)("div",{className:tn.a.RecommendListContainer,children:Object(N.jsxs)("div",{className:tn.a.recommendCard,children:[Object(N.jsx)("img",{src:t.avatar,className:tn.a.avatar,onClick:function(){return e=t.id,void o("/".concat(e));var e},alt:"avatar"}),Object(N.jsxs)("div",{className:tn.a.userInfo,children:[Object(N.jsxs)("div",{className:tn.a.name,children:[t.name," "]}),Object(N.jsxs)("div",{className:tn.a.userName,children:["@",t.account]})]}),Object(N.jsx)("button",{className:a,onClick:function(){t.isCurrentUserFollowed?i.mutate():c.mutate()},children:r})]})})},sn=function(){var e=De().user,t=Object(ye.a)({queryKey:["getTopFollowers"],queryFn:Oe,enabled:!!e,refetchOnWindowFocus:!1}),n=t.data;return t.isLoading?Object(N.jsx)(Te.a,{count:6,className:$t.a.skeleton}):Object(N.jsxs)("div",{className:$t.a.recommendListContainer,children:[Object(N.jsx)("div",{className:$t.a.HeaderContainer,children:Object(N.jsx)("h4",{className:$t.a.RecommendHeader,children:"\u63a8\u85a6\u8ddf\u96a8"})}),Array.isArray(n)&&n.map((function(e){return Object(N.jsx)(on,{user:e},e.id)}))]})},ln=n(64),un=n.n(ln),dn=function(e){var t=e.user,n=e.cardId,a=e.userId,r=e.loginUserId,c=e.isFollowed,i=c?un.a.buttonFollowing:un.a.buttonFollower,o=c?"\u6b63\u5728\u8ddf\u96a8":"\u8ddf\u96a8",s=Object(m.p)(),l=rn({userId:a,cardId:n}).followMutation,u=cn({userId:a,cardId:n}).unFollowMutation;return Object(N.jsx)("div",{className:un.a.followCardContainer,children:Object(N.jsxs)("div",{className:un.a.followCard,children:[Object(N.jsx)("img",{className:un.a.avatar,src:t.avatar,onClick:function(){return function(e){s("/".concat(e))}(t.id)},alt:"Avatar"}),Object(N.jsxs)("div",{className:un.a.userInfo,children:[Object(N.jsx)("div",{className:un.a.name,children:t.name}),Object(N.jsx)("span",{className:un.a.intro,children:t.introduction})]}),t.id!==r&&Object(N.jsx)("button",{className:i,onClick:function(){c?u.mutate():l.mutate()},children:o})]})})},mn=n(29),jn=n.n(mn),bn=function(e){var t=e.userId,n=e.loginUserId,a=Object(m.p)(),r=Object(o.useState)("\u6b63\u5728\u8ffd\u96a8"),c=Object(b.a)(r,2),i=c[0],s=c[1],l=Object(m.m)();Object(o.useEffect)((function(){switch(l.pathname.split("/").pop()){case"followers":default:s("\u8ffd\u96a8\u8005");break;case"followings":s("\u6b63\u5728\u8ffd\u96a8")}}),[l.pathname]);var u=function(e){switch(s(e),e){case"\u8ffd\u96a8\u8005":default:a("/".concat(t,"/followers"));break;case"\u6b63\u5728\u8ffd\u96a8":a("/".concat(t,"/followings"))}};return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:jn.a.tabContainer,children:[Object(N.jsx)("div",{className:"".concat(jn.a.tab," ").concat("\u8ffd\u96a8\u8005"===i?jn.a.active:""),onClick:function(){return u("\u8ffd\u96a8\u8005")},children:"\u8ffd\u96a8\u8005"}),Object(N.jsx)("div",{className:"".concat(jn.a.tab," ").concat("\u6b63\u5728\u8ffd\u96a8"===i?jn.a.active:""),onClick:function(){return u("\u6b63\u5728\u8ffd\u96a8")},children:"\u6b63\u5728\u8ffd\u96a8"})]}),Object(N.jsxs)(m.d,{children:[Object(N.jsx)(m.b,{path:"followings",element:Object(N.jsx)(fn,{userId:t,loginUserId:n})}),Object(N.jsx)(m.b,{path:"followers",element:Object(N.jsx)(pn,{userId:t,loginUserId:n})})]})]})},fn=function(e){var t=e.userId,n=e.loginUserId,a=function(e){var t=Object(ye.a)({queryKey:["getUserFollowings",{id:e}],queryFn:function(e){var t=e.queryKey;return pe({id:t[1].id})},refetchOnWindowFocus:!1});return{data:t.data,isLoading:t.isLoading}}(t),r=a.data;return a.isLoading?Object(N.jsx)("div",{className:jn.a.noFollow,children:"Loading..."}):0===r.length?Object(N.jsx)("div",{className:jn.a.noFollow,children:"\u9019\u908a\u9084\u6c92\u6709\u4eba..."}):r&&r.map((function(e){return Object(N.jsx)(dn,{user:e.Following,cardId:e.followingId,userId:t,loginUserId:n,isFollowed:JSON.parse(e.Following.isCurrentUserFollowed)},e.followingId)}))},pn=function(e){var t=e.userId,n=e.loginUserId,a=function(e){var t=Object(ye.a)({queryKey:["getUserFollowers",{id:e}],queryFn:function(e){var t=e.queryKey;return he({id:t[1].id})},refetchOnWindowFocus:!1});return{data:t.data,isLoading:t.isLoading}}(t),r=a.data;return a.isLoading?Object(N.jsx)("div",{className:jn.a.noFollow,children:"Loading..."}):0===r.length?Object(N.jsx)("div",{className:jn.a.noFollow,children:"\u9019\u908a\u9084\u6c92\u6709\u4eba..."}):r&&r.map((function(e){return Object(N.jsx)(dn,{user:e.Follower,cardId:e.followerId,userId:t,loginUserId:n,isFollowed:JSON.parse(e.Follower.isCurrentUserFollowed)},e.followerId)}))},hn=function(e){var t=function(e){var t=Object(ye.a)({queryKey:["getUserTweets",{id:e}],queryFn:function(e){var t=e.queryKey,n=e.signal;return je({id:t[1].id,signal:n})},refetchOnWindowFocus:!1});return{data:t.data,isLoading:t.isLoading}}(e.userId),n=t.data,a=t.isLoading;return a?Object(N.jsx)(Te.a,{count:5,style:{height:"120px",marginBottom:"8px"}}):0===n.length?Object(N.jsx)("h4",{children:"\u9019\u908a\u9084\u6c92\u6709\u63a8\u6587\u3002\u8981\u8ffd\u52a0\u4ec0\u9ebc\u55ce?"}):a?null:n.map((function(e){return Object(N.jsx)(zt,{tweet:e,tweetId:e.id,userId:e.UserId,type:"tweet"},null===e||void 0===e?void 0:e.id)}))},On=n(36),vn=n.n(On);function _n(e){var t=Lt()(),n=Lt()(e);return t.diff(n,"hour")<24?n.fromNow():n.format("YYYY/MM/DD")}Lt.a.extend(Et.a),Lt.a.locale("zh-tw");var gn=function(e){var t=e.User,n=e.like,a=e.tweetId,r=e.userId,c=Object(o.useState)(!1),i=Object(b.a)(c,2),s=i[0],l=i[1],u=Object(o.useState)(null),d=Object(b.a)(u,2),j=d[0],f=(d[1],Qt({tweetId:a,userId:r}).likeMutation),p=Vt({tweetId:a,userId:r}).unlikeMutation,h=Object(m.p)(),O=n.Tweet,v=void 0===O?{}:O,_=v.User,g=void 0===_?{}:_,C=g.name,x=g.account,w=g.avatar,y=v.description,I=v.repliesCount,k=v.likesCount,P=v.createdAt,L=n.isCurrentUserLiked;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:vn.a.tweetCardContainer,children:Object(N.jsxs)("div",{className:vn.a.tweetCard,onClick:function(){return function(e){h("/tweets/".concat(e))}(n.Tweet.id)},children:[Object(N.jsx)("img",{src:w,className:vn.a.avatar,onClick:function(e){return function(e,t){e.stopPropagation(),h("/".concat(t))}(e,n.Tweet.User.id)},alt:"avatar"}),Object(N.jsxs)("div",{className:vn.a.contentContainer,children:[Object(N.jsxs)("div",{className:vn.a.nameAndUserId,children:[Object(N.jsx)("span",{className:vn.a.name,children:C}),Object(N.jsxs)("span",{className:vn.a.userIdTime,children:["@",x,"\u30fb",_n(P)]})]}),Object(N.jsx)("div",{className:vn.a.tweet,children:y}),Object(N.jsxs)("div",{className:vn.a.countContainer,children:[Object(N.jsxs)("div",{className:vn.a.count,children:[Object(N.jsx)(kt,{className:vn.a.replyIcon,onClick:function(e){e.stopPropagation(),l(!0)}}),I]}),Object(N.jsxs)("div",{className:vn.a.count,children:[L?Object(N.jsx)(Ct,{className:vn.a.isLikeIcon,onClick:function(e){e.stopPropagation(),p.mutate()}}):Object(N.jsx)(pt,{className:vn.a.likeIcon,onClick:function(e){e.stopPropagation(),f.mutate()}}),k]})]})]})]})}),s&&Object(N.jsx)(qt,{open:s,onClose:function(e){return l(e)},User:t,tweet:n.Tweet,tweetId:n.Tweet.id,currentUserAvatar:j})]})},Cn=function(e){var t=function(e){var t=Object(ye.a)({queryKey:["getUserLike",{id:e}],queryFn:function(e){var t=e.queryKey,n=e.signal;return fe({id:t[1].id,signal:n})},refetchOnWindowFocus:!1});return{data:t.data,isLoading:t.isLoading}}(e.userId),n=t.data,a=t.isLoading;return a?Object(N.jsx)(Te.a,{count:5,style:{height:"120px",marginBottom:"8px"}}):0===n.length?Object(N.jsx)("h4",{children:"\u9019\u908a\u9084\u6c92\u6709\u559c\u6b61\u7684\u56de\u8986\u3002\u8981\u8ffd\u52a0\u4ec0\u9ebc\u55ce?"}):a?null:null===n||void 0===n?void 0:n.map((function(e){return Object(N.jsx)(gn,{like:e,tweetId:e.TweetId,userId:e.UserId,type:"like"},e.id)}))},xn=n(52),wn=n.n(xn);function Nn(e){var t=Lt()(),n=Lt()(e);return t.diff(n,"hour")<24?n.fromNow():n.format("YYYY/MM/DD")}Lt.a.extend(Et.a),Lt.a.locale("zh-tw");var yn,In,kn,Pn=function(e){var t=e.reply,n=Object(m.p)(),a=t.User,r=void 0===a?{}:a,c=r.name,i=r.account,o=r.avatar,s=t.Tweet,l=t.comment,u=t.createdAt;return Object(N.jsx)("div",{className:wn.a.tweetCardContainer,children:Object(N.jsxs)("div",{className:wn.a.tweetCard,children:[Object(N.jsx)("img",{src:o,className:wn.a.avatar,onClick:function(){return e=t.User.id,void n("/".concat(e));var e},alt:"avatar"}),Object(N.jsxs)("div",{className:wn.a.contentContainer,children:[Object(N.jsxs)("div",{className:wn.a.nameAndUserId,children:[Object(N.jsx)("span",{className:wn.a.name,children:c}),Object(N.jsxs)("span",{className:wn.a.userIdTime,children:["@",i,"\u30fb",Nn(u)]})]}),Object(N.jsxs)("div",{className:wn.a.replyContainer,children:[Object(N.jsx)("div",{className:wn.a.reply,children:"\u56de\u8986"}),Object(N.jsxs)("div",{className:wn.a.replyId,children:["@",null===s||void 0===s?void 0:s.User.account]})," "]}),Object(N.jsx)("div",{className:wn.a.tweet,children:l})]})]})})},Ln=function(e){var t=function(e){var t=Object(ye.a)({queryKey:["getUserRepliedTweets",{id:e}],queryFn:function(e){var t=e.queryKey,n=e.signal;return be({id:t[1].id,signal:n})},refetchOnWindowFocus:!1});return{data:t.data,isLoading:t.isLoading}}(e.userId),n=t.data;return t.isLoading?Object(N.jsx)(Te.a,{count:5,style:{height:"120px",marginBottom:"8px"}}):0===n.length?Object(N.jsx)("h4",{children:"\u9019\u908a\u9084\u6c92\u6709\u56de\u8986\u3002\u8981\u8ffd\u52a0\u4ec0\u9ebc\u55ce?"}):n&&n.map((function(e){return Object(N.jsx)(Pn,{reply:e,type:"reply"},e.id)}))},Un=function(e){var t=e.userId,n=Object(m.p)(),a=Object(o.useState)("\u63a8\u6587"),r=Object(b.a)(a,2),c=r[0],i=r[1],s=Object(m.m)();Object(o.useEffect)((function(){switch(s.pathname.split("/").pop()){case"tweets":default:i("\u63a8\u6587");break;case"replies":i("\u56de\u8986");break;case"likes":i("\u559c\u6b61\u7684\u5167\u5bb9")}}),[s.pathname]);var l=function(e){switch(i(e),e){case"\u63a8\u6587":default:n("tweets");break;case"\u56de\u8986":n("replies");break;case"\u559c\u6b61\u7684\u5167\u5bb9":n("likes")}};return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:jn.a.tabContainer,children:[Object(N.jsx)("div",{className:"".concat(jn.a.tab," ").concat("\u63a8\u6587"===c?jn.a.active:""),onClick:function(){return l("\u63a8\u6587")},children:"\u63a8\u6587"}),Object(N.jsx)("div",{className:"".concat(jn.a.tab," ").concat("\u56de\u8986"===c?jn.a.active:""),onClick:function(){return l("\u56de\u8986")},children:"\u56de\u8986"}),Object(N.jsx)("div",{className:"".concat(jn.a.tab," ").concat("\u559c\u6b61\u7684\u5167\u5bb9"===c?jn.a.active:""),onClick:function(){return l("\u559c\u6b61\u7684\u5167\u5bb9")},children:"\u559c\u6b61\u7684\u5167\u5bb9"})]}),Object(N.jsxs)(m.d,{children:[Object(N.jsx)(m.b,{path:"tweets",element:Object(N.jsx)(hn,{userId:t})}),Object(N.jsx)(m.b,{path:"replies",element:Object(N.jsx)(Ln,{userId:t})}),Object(N.jsx)(m.b,{path:"likes",element:Object(N.jsx)(Cn,{userId:t})}),Object(N.jsx)(m.b,{path:"*",element:Object(N.jsx)(hn,{userId:t})})]})]})},En=function(e){var t=e.userId;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Re,{userId:t}),Object(N.jsx)(Un,{userId:t})]})},An=n(37),Mn=n.n(An),Fn=["title","titleId"];function Sn(){return Sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Sn.apply(this,arguments)}function Tn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rn(e,t){var n=e.title,a=e.titleId,r=Tn(e,Fn);return o.createElement("svg",Sn({width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?o.createElement("title",{id:a},n):null,yn||(yn=o.createElement("circle",{cx:20,cy:20,r:19.5,fill:"#FF6600",stroke:"#FF6600"})),In||(In=o.createElement("g",{clipPath:"url(#clip0_70934_4305)"},o.createElement("rect",{width:24,height:24,transform:"translate(8 8)",fill:"#FF6600"}),o.createElement("path",{d:"M31.61 8.15005C31.235 7.96605 30.788 8.12005 30.604 8.49005L27.74 14.2661L26.037 12.4561C25.754 12.1531 25.279 12.1401 24.977 12.4241C24.675 12.7081 24.661 13.1841 24.945 13.4841L27.388 16.0801C27.531 16.2301 27.728 16.3151 27.934 16.3151C27.97 16.3151 28.007 16.3121 28.044 16.3071C28.287 16.2711 28.496 16.1171 28.606 15.8971L31.948 9.15705C32.132 8.78505 31.98 8.33505 31.608 8.15105L31.61 8.15005ZM27.018 24.6251C26.935 24.5611 24.974 23.0001 25.008 18.8651C25.03 16.4321 24.228 14.2691 22.752 12.7751C21.428 11.4351 19.636 10.6921 17.706 10.6831H17.693C15.763 10.6931 13.971 11.4331 12.647 12.7751C11.172 14.2701 10.37 16.4331 10.39 18.8671C10.426 23.0001 8.46701 24.5601 8.39001 24.6201C8.13001 24.8131 8.02301 25.1501 8.12401 25.4581C8.22601 25.7661 8.51401 25.9731 8.83601 25.9731H12.916C13.004 28.5431 15.109 30.6131 17.701 30.6131C20.293 30.6131 22.399 28.5431 22.486 25.9731H26.568C26.888 25.9731 27.172 25.7671 27.275 25.4631C27.378 25.159 27.273 24.8201 27.019 24.6251H27.018ZM17.7 28.5131C16.266 28.5131 15.1 27.3861 15.016 25.9731H20.384C20.299 27.3861 19.134 28.5131 17.7 28.5131Z",fill:"white"}))),kn||(kn=o.createElement("defs",null,o.createElement("clipPath",{id:"clip0_70934_4305"},o.createElement("rect",{width:24,height:24,fill:"white",transform:"translate(8 8)"})))))}var Hn,Bn,Yn=o.forwardRef(Rn),qn=(n.p,["title","titleId"]);function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Zn.apply(this,arguments)}function Gn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kn(e,t){var n=e.title,a=e.titleId,r=Gn(e,qn);return o.createElement("svg",Zn({width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?o.createElement("title",{id:a},n):null,Hn||(Hn=o.createElement("circle",{cx:20,cy:20,r:19.5,stroke:"#FF6600"})),Bn||(Bn=o.createElement("path",{d:"M31.24 11.26H28.815V8.83203C28.815 8.41803 28.479 8.08203 28.065 8.08203C27.651 8.08203 27.315 8.41803 27.315 8.83203V11.26H24.89C24.476 11.26 24.14 11.595 24.14 12.01C24.14 12.425 24.476 12.76 24.89 12.76H27.316V15.184C27.316 15.598 27.652 15.934 28.066 15.934C28.48 15.934 28.816 15.598 28.816 15.184V12.76H31.241C31.656 12.76 31.991 12.423 31.991 12.01C31.991 11.597 31.655 11.26 31.241 11.26H31.24ZM25.01 18.866C25.03 16.432 24.228 14.269 22.752 12.776C21.428 11.434 19.636 10.692 17.706 10.683H17.693C15.763 10.693 13.971 11.433 12.647 12.775C11.172 14.27 10.37 16.433 10.39 18.867C10.426 23 8.46704 24.56 8.39004 24.62C8.13004 24.813 8.02304 25.15 8.12404 25.458C8.22604 25.766 8.51404 25.973 8.83604 25.973H13.552C13.662 28.199 15.492 29.98 17.746 29.98C20 29.98 21.829 28.2 21.94 25.973H26.565C26.885 25.973 27.169 25.767 27.272 25.463C27.375 25.159 27.272 24.82 27.017 24.625C26.935 24.561 24.974 23 25.009 18.865L25.01 18.866ZM17.745 28.48C16.319 28.48 15.159 27.37 15.051 25.972H20.439C20.331 27.372 19.171 28.479 17.745 28.479V28.48ZM10.455 24.473C11.157 23.378 11.912 21.569 11.889 18.855C11.872 16.793 12.503 15.055 13.714 13.83C14.757 12.774 16.172 12.19 17.7 12.184C19.227 12.191 20.643 12.774 21.685 13.83C22.895 15.056 23.525 16.793 23.508 18.855C23.486 21.569 24.24 23.378 24.945 24.473H10.455V24.473Z",fill:"#FF6600"})))}var Dn=o.forwardRef(Kn),Qn=(n.p,n.p+"static/media/email.37dba268.svg"),Vn=function(e){var t=e.userId,n=e.isSubscribed,a=Object(o.useState)(!1),r=Object(b.a)(a,2),c=r[0],i=r[1],s=Se(t),l=s.data,u=s.isLoading,m=rn({userId:t}).followMutation,j=cn({userId:t}).unFollowMutation,f=l||{},p=(f.id,f.account),h=f.avatar,O=f.cover,v=f.name,_=f.introduction,g=f.followersCount,C=f.followingsCount,x=f.isCurrentUserFollowed,w=Je(),y=x?Mn.a.buttonFollowing:Mn.a.buttonFollower,I=x?"\u6b63\u5728\u8ddf\u96a8":"\u8ddf\u96a8";return Object(o.useEffect)((function(){i(n)}),[n]),Object(o.useEffect)((function(){return w.on("server-unsubscribe",(function(e){return console.log("from BellOpen",e)})),w.on("server-subscribe",(function(e){return console.log("from BellClose",e)})),function(){w.off("server-unsubscribe"),w.off("server-subscribe")}}),[w]),u?Object(N.jsx)(Te.a,{className:Mn.a.skeleton}):Object(N.jsxs)("div",{className:Mn.a.container,children:[Object(N.jsx)("div",{className:Mn.a.bgContainer,children:Object(N.jsx)("img",{src:O,alt:"background"})}),Object(N.jsx)("div",{className:Mn.a.avatarContainer,children:Object(N.jsx)("img",{src:h,alt:"avatar"})}),Object(N.jsxs)("div",{className:Mn.a.buttonContainer,children:[Object(N.jsx)("div",{className:Mn.a.emailContainer,children:Object(N.jsx)("img",{src:Qn,alt:"email"})}),c?Object(N.jsx)(Yn,{onClick:function(){w.emit("client-unsubscribe",t),i(!c)}}):Object(N.jsx)(Dn,{onClick:function(){w.emit("client-subscribe",t),i(!c)}}),Object(N.jsx)("button",{className:y,onClick:function(){x?j.mutate():m.mutate()},children:I})]}),Object(N.jsxs)("div",{className:Mn.a.textContainer,children:[Object(N.jsx)("h5",{className:Mn.a.name,children:v}),Object(N.jsxs)("span",{className:Mn.a.account,children:["@",p]}),Object(N.jsx)("p",{children:_}),Object(N.jsxs)("div",{className:Mn.a.linkGroup,children:[Object(N.jsxs)(d.b,{to:"/".concat(t,"/followings"),className:Mn.a.link,children:[C,"\u500b",Object(N.jsx)("span",{children:"\u6b63\u5728\u8ffd\u96a8"})]}),Object(N.jsxs)(d.b,{to:"/".concat(t,"/followers"),className:Mn.a.link,children:[g,"\u500b",Object(N.jsx)("span",{children:"\u8ddf\u96a8\u8005"})]})]})]})]})},Jn=function(e){var t=e.userId,n=e.isSubscribed;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Vn,{userId:t,isSubscribed:n}),Object(N.jsx)(Un,{userId:t})]})},zn=n(26),Wn=n.n(zn);Lt.a.extend(Et.a),Lt.a.locale("zh-tw");var Xn=function(e){var t,n=e.tweet,a=e.tweetId,r=e.isLoading,c=Object(o.useState)(!1),i=Object(b.a)(c,2),s=i[0],l=i[1],u=n||{},d=u.likesCount,m=u.repliesCount,j=u.description,f=u.createdAt,p=u.User,h=u.isCurrentUserLiked,O=p||{},v=O.account,_=O.avatar,g=O.name,C=Qt({tweetId:a,userId:null===p||void 0===p?void 0:p.id}).likeMutation,x=Vt({tweetId:a,userId:null===p||void 0===p?void 0:p.id}).unlikeMutation;return r?Object(N.jsx)(Te.a,{className:Wn.a.skeleton}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:Wn.a.container,children:[Object(N.jsxs)("div",{className:Wn.a.tweetContainer,children:[Object(N.jsxs)("div",{className:Wn.a.titleContainer,children:[Object(N.jsx)("div",{className:Wn.a.avatarContainer,children:Object(N.jsx)("img",{src:_,alt:"avatar"})}),Object(N.jsxs)("div",{className:Wn.a.nameContainer,children:[Object(N.jsx)("h5",{className:Wn.a.name,children:g}),Object(N.jsxs)("span",{className:Wn.a.account,children:["@",v]})]})]}),Object(N.jsx)("p",{className:Wn.a.introduction,children:j}),Object(N.jsx)("p",{className:Wn.a.time,children:(t=f,Lt()(t).format("A hh:mm\u30fbYYYY\u5e74MM\u6708DD\u65e5 "))})]}),Object(N.jsxs)("div",{className:Wn.a.dataContainer,children:[Object(N.jsxs)("div",{className:Wn.a.data,children:[m,Object(N.jsx)("span",{children:"\u56de\u8986"})]}),Object(N.jsxs)("div",{className:Wn.a.data,children:[d,Object(N.jsx)("span",{children:"\u559c\u6b61\u6b21\u6578"})]})]}),Object(N.jsxs)("div",{className:Wn.a.iconContainer,children:[Object(N.jsx)("div",{className:Wn.a.icon,children:Object(N.jsx)(kt,{onClick:function(){l(!0)}})}),Object(N.jsx)("div",{className:Wn.a.icon,children:h?Object(N.jsx)(Ct,{className:Wn.a.isLikeIcon,onClick:x.mutate}):Object(N.jsx)(pt,{className:Wn.a.likeIcon,onClick:C.mutate})})]})]}),s&&Object(N.jsx)(qt,{open:s,onClose:function(e){return l(e)},tweet:n,tweetId:a})]})},$n=n(53),ea=n.n($n);function ta(e){var t=Lt()(),n=Lt()(e);return t.diff(n,"hour")<24?n.fromNow():n.format("YYYY/MM/DD")}Lt.a.extend(Et.a),Lt.a.locale("zh-tw");var na,aa=function(e){var t=e.reply,n=Object(m.p)(),a=t.User,r=void 0===a?{}:a,c=r.name,i=r.account,o=r.avatar,s=t.Tweet,l=(void 0===s?{}:s).User,u=(t.TweetId,t.comment),d=t.createdAt;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:ea.a.tweetCardContainer,children:Object(N.jsxs)("div",{className:ea.a.tweetCard,children:[Object(N.jsx)("img",{src:o,className:ea.a.avatar,onClick:function(){return e=t.User.id,void n("/".concat(e));var e},alt:"avatar"}),Object(N.jsxs)("div",{className:ea.a.contentContainer,children:[Object(N.jsxs)("div",{className:ea.a.nameAndUserId,children:[Object(N.jsx)("span",{className:ea.a.name,children:c}),Object(N.jsxs)("span",{className:ea.a.userIdTime,children:["@",i,"\u30fb",ta(d)]})]}),Object(N.jsxs)("div",{className:ea.a.replyContainer,children:[Object(N.jsx)("div",{className:ea.a.reply,children:"\u56de\u8986"}),Object(N.jsxs)("div",{className:ea.a.replyId,children:["@",null===l||void 0===l?void 0:l.account]})," "]}),Object(N.jsx)("div",{className:ea.a.tweet,children:u})]})]})})})},ra=function(e){var t=function(e){var t=Object(ye.a)({queryKey:["getATweetReply",{id:e}],queryFn:function(e){var t=e.queryKey,n=e.signal;return Le({id:t[1].id,signal:n})},refetchOnWindowFocus:!1});return{data:t.data,isLoading:t.isLoading}}(e.tweetId),n=t.data,a=t.isLoading;return 0===(null===n||void 0===n?void 0:n.length)?Object(N.jsx)("span",{children:"\u5c1a\u7121\u4efb\u4f55\u56de\u8986"}):Object(N.jsxs)(N.Fragment,{children:[a&&Object(N.jsx)(Te.a,{count:5,style:{marginTop:"10px",height:"116px",width:"650px"}}),n&&n.map((function(e){return Object(N.jsx)(aa,{reply:e,type:"reply",isLoading:a},e.id)}))]})},ca=function(){var e=Object(m.r)().tweetId,t=function(e){var t=Object(ye.a)({queryKey:["getATweet",{id:e}],queryFn:function(e){var t=e.queryKey,n=e.signal;return Ue({id:t[1].id,signal:n})},refetchOnWindowFocus:!1});return{data:t.data,isLoading:t.isLoading}}(e),n=t.data,a=t.isLoading;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Xn,{tweetId:e,tweet:n,isLoading:a}),Object(N.jsx)(ra,{tweetId:e})]})},ia=n(13),oa=n.n(ia),sa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASDSURBVHgB7VlbUhw3FD1qBioVftiB2ysIXkFgBcErMFSCk7/ACoAVMPy58igPK8BZgWEFmexA2cH40zZGPrpqM/Sgq5Z62l+eUzXTXZJa0tF96OoKWGGFFb4JGAwI9wt2+NhGhR/l6bDFEbZCJWZ8t3yzuMMNn1PzF64xEJYm4vY50RF+Z09H95POhyXBa3zEmZkIyd7oTUQIbOCEr0cYAg6TZQj1IkIV8qt/0kMCXfASOjN/klQhiom4lzhHSgrBFv7jb0pbmPI5o83M+O5Jb/O3x98PSOEOY9rPMQqQTURUaR1X/GJHaXIj6rGJN2bMiaf6+g01J3uFQCyOT3hu/sYbZCKfyCHeKiSmXPFj86rcA1G6p3ycRKqs+QNPUYBRTqNGnXYeV+CC+hxVM1n1W6pRRUne4TrmajnZU/bt0SZTYReF6JQIJbHPVq/bhVSdNYo+IgWqYE0VPOc3ewvfeK90TK/0SO3cr5S2axYqsTgpVKlKmZR5JHpLEs8UEtt0yW8fkfAwXJB1sQtE6g7u+94UdStGkggV75T/9YMS68VOEnaxqZBYJ4l2+zZoYyLhxeLQ36W4XsVRiLNJQCUi0qjwYl4gblQjUVMSV1n7iokaN/A9jpL7xwZep8joEhktiNiv1itl193okEQbdROTtZBy2Y0U9zgn1XZ0IiHwa0bBhF5nHB3kpaxwjRKsPZB0B1p2ahjTKYgSoevcwXxylh2cqYOgh3HeRZyBhod2StWNSdOjUgaaN06p1Kifh5EJHSZ29S9DL9ppQPS7OBF339hqBqgMUoJOIo3ttWFKJGLwRJ4urlKCvtKYI0lEIuyY7Zl4wBkPUZx0MPuK0khC2Yi/zC3qgjWJbLFGjzzX1Qg4Fz46GKu1XtranmRKiHjc4h+1bllppByIh0kfAxCdUnygGVd9Gq3yu6tbQiIhKJwk26wltMHFSWqqZdUV+y7D2+jICgolIHWqVGysUJPIDTTc9iYSAs5xttpcKuX/xwq1DfEaGqqeCQcn5xeb3V5TLxNX+TiRKjGg60HE4YB2MS35RFUvZZGjRPygasjsCvNOgcREreae4X5WY69F9bJadlJ1v7EjqWCUubJ+NTNISBhSKV5wUb2MrvLpE2IEzRHXdjTz9btZJEIY8kIdi+56XqCHTMVEmq92ESMTdPqMp71nKZvgGWaP+9S/yAjPJRHhyfgzUcJZdGdRaCuamsnJrWrcsc8qdiTnOvLFFh+4ANpYR5xHou9uIn71PvAKYMlseZNWSp8mmTKiBA7QA1mZxiZpPStNLjdXDvtNbJa3kYZrhoPShctPmYYkms/ZeuOLXtI0+eFaYjGDn+Anb3pvoD6hd0FCWV4yK2UqeI/njas8l3FCqtMutKrlf4h7MMPc71a+VMqvFQ55jkhkMwZBj7Rp+T4S3KE3SIuh4eQe5Xjw3K8GMfqwl1xiKPi9YhNPtfxZ55ywJJpLm1O++oRejRKE260LbqDjgvA+iiHM8h6S2PM5MSfeynuvJ63raeAd/MWQd7GM2fpcDq2wwgrfOD4DQomGYCQW65AAAAAASUVORK5CYII=",la=n.p+"static/media/homeLine.abc01d25.svg",ua=n.p+"static/media/userLine.951e32b5.svg",da=n.p+"static/media/cogLine.4a0e4b70.svg",ma=n.p+"static/media/logout.7f599d09.svg",ja=n.p+"static/media/isHome.c9340fbe.svg",ba=n.p+"static/media/isSetting.c80fa17f.svg",fa=n.p+"static/media/isProfile.fc9aa2f6.svg",pa=n.p+"static/media/message.93603fdc.svg",ha=n.p+"static/media/isMessage.c6404230.svg",Oa=n.p+"static/media/publicChat.1080ac31.svg",va=n.p+"static/media/isPublicChat.59631cf8.svg",_a=n.p+"static/media/Group.d53da586.svg",ga=n.p+"static/media/isNotice.ad3695e3.svg",Ca=n.p+"static/media/Notice.b18700fe.svg",xa=Object(o.createContext)(),wa=function(){return Object(o.useContext)(xa)};function Na(e){var t=e.children,n=Object(o.useState)({empty:!0,messages:[]}),a=Object(b.a)(n,2),r=a[0],c=a[1],i=Object(o.useState)({}),s=Object(b.a)(i,2),l=(s[0],s[1],Object(m.r)().roomId);return Object(o.useEffect)((function(){var e=function(e){console.log("server-new-message",e);var t=e.newMessageData,n=e.allUnreadMessageCounts;0===t.length?c({empty:!0,messages:t,allUnreadCounts:n}):c({empty:!1,messages:t,allUnreadCounts:n})};return Ze.emit("client-new-message"),Ze.on("server-new-message",e),function(){Ze.off("server-new-message",e)}}),[Ze]),Object(o.useEffect)((function(){var e=function(e){console.log(e),Ze.emit("client-new-message")};if(Ze)return l&&(Ze.emit("client-enter-room",l),Ze.on("server-enter-room",e)),function(){Ze.off("server-enter-room",e)}}),[Ze,l]),Object(N.jsx)(xa.Provider,{value:{chatUnRead:r,setChatUnRead:c,socket:Ze},children:t})}var ya=["title","titleId"];function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ia.apply(this,arguments)}function ka(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pa(e,t){var n=e.title,a=e.titleId,r=ka(e,ya);return o.createElement("svg",Ia({width:24,height:22,viewBox:"0 0 24 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?o.createElement("title",{id:a},n):null,na||(na=o.createElement("path",{d:"M8.8 5.19995H5.6V1.89995C5.6 1.49995 5.3 1.09995 4.8 1.09995C4.3 1.09995 4.1 1.49995 4.1 1.89995V5.19995H0.8C0.4 5.19995 0 5.49995 0 5.99995C0 6.49995 0.3 6.79995 0.8 6.79995H4.1V10.1C4.1 10.5 4.4 10.9 4.9 10.9C5.4 10.9 5.7 10.6 5.7 10.1V6.69995H9C9.4 6.69995 9.8 6.39995 9.8 5.89995C9.8 5.39995 9.3 5.19995 8.8 5.19995ZM23.8 0.299951V0.199951H23.7C23.6 0.199951 14.5 1.39995 9.3 11.9C5.5 19.5 5.7 21.7999 6 21.7999C6.3 21.9 9.4 15.3 12.7 12.6C17.9 11.5 19.3 8.99995 19.3 8.99995C19.3 8.99995 17.8 9.19995 17.2 9.19995C16.4 9.19995 15.8 8.99995 15.5 8.89995C16.8 7.69995 17.9 7.39995 19 7.19995C19.9 6.99995 20.8 6.79995 22 5.99995C24.2 4.39995 23.9 0.499951 23.8 0.299951Z",fill:"currentColor"})))}var La,Ua=o.forwardRef(Pa),Ea=(n.p,function(){var e,t=Object(o.useState)(!1),n=Object(b.a)(t,2),a=n[0],r=n[1],c=Object(o.useState)(!1),i=Object(b.a)(c,2),s=i[0],l=i[1],u=Object(m.m)(),j=De().logout,f=wa().chatUnRead,p=Object(m.r)().roomId;Object(o.useEffect)((function(){l(u.pathname)}),[u]);var h=function(e){l(!0)};return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:oa.a.navbarContainer,children:[Object(N.jsx)("div",{className:oa.a.NavbarLogo,children:Object(N.jsx)("img",{src:sa,alt:""})}),Object(N.jsxs)("div",{className:oa.a.NavbarGroup,children:[Object(N.jsx)(d.b,{to:"/main",children:Object(N.jsxs)("div",{className:"".concat(oa.a.NavbarItem," ").concat("/main"===u.pathname?oa.a.active:""),onClick:function(){return h()},children:[Object(N.jsx)("img",{className:oa.a.NavbarPng,src:"/main"===s?ja:la,alt:"Home"}),Object(N.jsx)("span",{className:oa.a.NavbarName,children:"\u9996\u9801"})]})}),Object(N.jsx)(d.b,{to:"/notice",children:Object(N.jsxs)("div",{className:"".concat(oa.a.NavbarItem," ").concat("/notice"===u.pathname?oa.a.active:""),onClick:function(){return h()},children:[Object(N.jsx)("img",{className:oa.a.NavbarPng,src:"/notice"===s?ga:Ca,alt:"notice"}),Object(N.jsx)("span",{className:oa.a.NavbarName,children:"\u901a\u77e5"})]})}),Object(N.jsx)(d.b,{to:"/chat",children:Object(N.jsxs)("div",{className:"".concat(oa.a.NavbarItem," ").concat("/chat"===u.pathname?oa.a.active:""),onClick:function(){h()},children:[Object(N.jsx)("img",{className:oa.a.NavbarPng,src:"/chat"===s?va:Oa,alt:"Icon"}),Object(N.jsx)("span",{className:oa.a.NavbarName,children:"\u516c\u958b\u804a\u5929\u5ba4"})]})}),Object(N.jsx)(d.b,{to:"/chat/".concat(p||(null===f||void 0===f||null===(e=f.messages[0])||void 0===e?void 0:e.roomId)),children:Object(N.jsxs)("div",{className:"".concat(oa.a.NavbarItem," ").concat(u.pathname==="/chat/".concat(p)?oa.a.active:""),onClick:function(){h("/chat/".concat(p))},children:[Object(N.jsx)("img",{className:oa.a.NavbarPng,src:f.allUnreadCounts>0?_a:s==="/chat/".concat(p)?ha:pa,alt:"Icon"}),Object(N.jsx)("span",{className:oa.a.NavbarName,children:"\u79c1\u4eba\u8a0a\u606f"}),Object(N.jsx)("div",{children:f.allUnreadCounts>0&&"(".concat(f.allUnreadCounts,")")})]})}),Object(N.jsx)(d.b,{to:"/profile",children:Object(N.jsxs)("div",{className:"".concat(oa.a.NavbarItem," ").concat("/profile"===u.pathname?oa.a.active:""),onClick:function(){return h()},children:[Object(N.jsx)("img",{className:oa.a.NavbarPng,src:"/profile"===s?fa:ua,alt:"Icon"}),Object(N.jsx)("span",{className:oa.a.NavbarName,children:"\u500b\u4eba\u8cc7\u6599"})]})}),Object(N.jsx)(d.b,{to:"/setting",children:Object(N.jsxs)("div",{className:"".concat(oa.a.NavbarItem," ").concat("/setting"===u.pathname?oa.a.active:""),onClick:function(){return h()},children:[Object(N.jsx)("img",{className:oa.a.NavbarPng,src:"/setting"===s?ba:da,alt:"Setting"}),Object(N.jsx)("span",{className:oa.a.NavbarName,children:"\u8a2d\u5b9a"})]})}),Object(N.jsxs)("button",{className:oa.a.NavbarButton,onClick:function(){return r(!0)},children:[Object(N.jsx)("span",{children:"\u63a8\u6587"}),Object(N.jsx)(Ua,{className:oa.a.NavbarTweetIcon})]})]}),a&&Object(N.jsx)(tt,{open:a,onClose:function(e){return r(e)}}),Object(N.jsxs)("div",{className:oa.a.logout,onClick:j,children:[Object(N.jsx)("img",{className:oa.a.NavbarPng,src:ma,alt:"logout"}),Object(N.jsx)("span",{className:oa.a.NavbarName,children:"\u767b\u51fa"})]})]})})}),Aa=n(20),Ma=n(134),Fa=n.n(Ma),Sa=n(77),Ta=n.n(Sa),Ra=["title","titleId"];function Ha(){return Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ha.apply(this,arguments)}function Ba(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ya(e,t){var n=e.title,a=e.titleId,r=Ba(e,Ra);return o.createElement("svg",Ha({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?o.createElement("title",{id:a},n):null,La||(La=o.createElement("path",{d:"M21.13 11.358L3.614 2.10798C3.324 1.95598 2.974 2.00598 2.741 2.23398C2.511 2.45998 2.448 2.81098 2.591 3.10198L6.953 12.022L2.591 20.942C2.448 21.234 2.511 21.585 2.741 21.81C2.886 21.95 3.074 22.022 3.264 22.022C3.384 22.022 3.504 21.994 3.614 21.935L21.131 12.685C21.376 12.555 21.531 12.299 21.531 12.021C21.531 11.743 21.376 11.489 21.131 11.359L21.13 11.358ZM4.948 4.50998L17.752 11.272H8.255L4.948 4.51198V4.50998ZM8.255 12.77H17.753L4.948 19.535L8.255 12.772V12.77Z",fill:"#FF6600"})))}var qa=o.forwardRef(Ya),Za=(n.p,function(e){var t=e.onSelfSend,n=e.roomId,a=Object(o.useState)(""),r=Object(b.a)(a,2),c=r[0],i=r[1],s=Object(o.useState)(!1),l=Object(b.a)(s,2),u=l[0],d=l[1],m=Je();return Object(o.useEffect)((function(){d("undefined"===n)}),[n]),Object(N.jsxs)("form",{className:Ta.a.container,onSubmit:function(e){if(e.preventDefault(),c.trim()){var n=new Date;m.emit("client-message",c,n),t(c,n),i("")}},children:[Object(N.jsx)("div",{className:u?Ta.a.disabled:Ta.a.inputContainer,children:Object(N.jsx)("input",{type:"text",className:Ta.a.input,value:c,placeholder:"\u8f38\u5165\u8a0a\u606f...",onChange:function(e){return i(e.target.value)},disabled:u})}),Object(N.jsx)("button",{className:Ta.a.button,disabled:u,children:Object(N.jsx)(qa,{className:Ta.a.send})})]})}),Ga=n.p+"static/media/avatar.c467462b.svg",Ka=n(160),Da=n.n(Ka),Qa=n(109),Va=n.n(Qa),Ja=function(e){var t=e.message,n=t.text,a=t.time,r=t.avatar,c=t.isOwner,i=Object(o.useRef)();return Object(o.useEffect)((function(){var e;null===(e=i.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end"})}),[t]),Object(N.jsxs)("div",{className:"".concat(Va.a.container," ").concat(c&&Va.a.owner),ref:i,children:[Object(N.jsx)("div",{className:Va.a.avatarContainer,children:Object(N.jsx)("img",{src:r,alt:""})}),Object(N.jsxs)("div",{className:Va.a.contentContainer,children:[Object(N.jsx)("p",{children:n}),Object(N.jsx)("span",{children:a})]})]})},za=n(237),Wa=n.n(za),Xa=function(e){var t=e.message,n=Object(o.useRef)();return Object(o.useEffect)((function(){var e;null===(e=n.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end"})}),[t]),Object(N.jsx)("div",{className:Wa.a.container,ref:n,children:Object(N.jsx)("p",{children:t})})},$a=(n(232),function(e){var t,n=e.message,a=e.historyMessage,r="undefined"!==e.roomId&&0===a.length&&"\u5c1a\u672a\u804a\u5929\u904e\uff0c\u958b\u59cb\u767c\u9001\u8a0a\u606f\u5427!"!==a.text;return Object(N.jsxs)("div",{className:Da.a.chatBodyContainer,children:[r&&Object(N.jsx)(Te.a,{count:8,className:Da.a.skeleton}),null===(t=a[0])||void 0===t?void 0:t.map((function(e,t){return Object(N.jsx)(Ja,{message:e},t)})),n.map((function(e,t){var n=e.isChat,a=e.message;return n?Object(N.jsx)(Ja,{message:a},t):Object(N.jsx)(Xa,{message:a},t)}))]})}),er=(n(391),function(e){Lt.a.locale("zh-tw");var t=Lt()(),n=Lt()(e);return t.diff(n,"day")>=365?Lt()(e).format("YYYY\u5e74MM\u6708DD\u65e5\u30fbA hh:mm "):t.diff(n,"day")<1?Lt()(e).format("A hh:mm"):Lt()(e).format("MM\u6708DD\u65e5\u30fbA hh:mm ")}),tr=function(e){var t=Object(o.useState)([]),n=Object(b.a)(t,2),a=n[0],r=n[1],c=Je(),i=(De()||{}).user;return Object(o.useEffect)((function(){var t=function(e){r((function(t){return[].concat(Object(Aa.a)(t),[{isChat:!1,message:e}])}))},n=function(e){r((function(t){return[].concat(Object(Aa.a)(t),[{isChat:!1,message:e}])}))};return c&&4===e&&(c.on("server-join",t),c.on("server-leave",n)),function(){null===c||void 0===c||c.off("server-join",t),null===c||void 0===c||c.off("server-leave",n)}}),[c]),Object(o.useEffect)((function(){return 4===e&&(c.emit("client-enter-room","public"),c.on("server-enter-room",(function(e){return console.log(e)}))),function(){r([]),c.off("server-enter-room",(function(e){return console.log(e)}))}}),[e]),Object(o.useEffect)((function(){var e=function(e){console.log(e),r((function(t){return t.some((function(t){return t.message===e.message}))?t:[].concat(Object(Aa.a)(t),[{isChat:!1,message:e.message}])}))};return c.on("server-update-room",e),function(){c.off("server-update-room",e)}}),[c,e]),Object(o.useEffect)((function(){var t=function(t){if(console.log("server-message",t),Number(e)===Number(t.room)){var n={text:t.message,time:er(t.timestamp),avatar:t.user.avatar,isOwner:t.user.id===i.id};r((function(e){return[].concat(Object(Aa.a)(e),[{isChat:!0,message:n}])}))}};return c&&c.on("server-message",t),function(){r([]),null===c||void 0===c||c.off("server-message",t)}}),[c,e]),{message:a,setMessage:r}},nr=function(e){var t=e.headerContext,n=e.roomId,a=Object(o.useState)([]),r=Object(b.a)(a,2),c=r[0],i=r[1],s=(De()||{}).user,l=Je(),u=tr(n),d=u.message,m=u.setMessage,j=Object(o.useCallback)((function(e){if("\u5c1a\u672a\u804a\u5929\u904e\uff0c\u958b\u59cb\u767c\u9001\u8a0a\u606f\u5427!"===e&&i({text:e,time:null,avatar:null,isOwner:null}),Number(n)===e[0].roomId){var t=e.map((function(e){var t=e.message,n=e.timestamp,a=e.User;return{text:t,time:er(n),avatar:a.avatar,isOwner:a.id===s.id}}));i((function(e){return e.some((function(e){var n;return null===(n=e.message)||void 0===n?void 0:n.every((function(e){return t.some((function(t){return t.text===e.text}))}))}))?e:[].concat(Object(Aa.a)(e),[t])}))}}),[n,null===s||void 0===s?void 0:s.id]);Object(o.useEffect)((function(){return null!==l&&void 0!==l&&l.connected&&l.emit("client-record",n),function(){i([])}}),[n]),Object(o.useEffect)((function(){return l&&l.on("server-record",j),function(){null===l||void 0===l||l.off("server-record",j)}}),[null===l||void 0===l?void 0:l.connected,n]);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:Fa.a.HeaderContainer,children:[Object(N.jsx)("div",{className:Fa.a.title,children:t.title}),4!==n&&Object(N.jsxs)("div",{className:Fa.a.subtitle,children:["@",t.subtitle]})]}),Object(N.jsx)($a,{message:d,historyMessage:c,roomId:n}),Object(N.jsx)(Za,{onSelfSend:function(e,t){var n={text:e,time:er(t),avatar:Ga,isOwner:!0};m((function(e){return[].concat(Object(Aa.a)(e),[{isChat:!0,message:n}])}))},roomId:n})]})},ar=n(78),rr=n.n(ar),cr=Object(o.createContext)(),ir=function(){return Object(o.useContext)(cr)};function or(e){var t=e.children,n=Object(o.useState)({}),a=Object(b.a)(n,2),r=a[0],c=a[1];return Object(N.jsx)(cr.Provider,{value:{chatUser:r,setChatUser:c},children:t})}var sr,lr=function(){var e=De().user,t=Je(),n=ir().setChatUser,a=Object(o.useState)([]),r=Object(b.a)(a,2),c=r[0],i=r[1],s=Object(o.useState)(!0),l=Object(b.a)(s,2),u=(l[0],l[1]);Object(o.useEffect)((function(){var n,a=localStorage.getItem("usersUpdate");if(console.log("savedUpdate",JSON.parse(a)),0!==(null===(n=JSON.parse(a))||void 0===n?void 0:n.length)&&i(JSON.parse(a)),t){var r=function(t){t&&u(!1),console.log("res:",t),i(t.filter((function(t){return t.id!==e.id})).map((function(e){return{id:e.id,account:e.account,name:e.name,avatar:e.avatar}})))};return t.emit("client-join",null===e||void 0===e?void 0:e.id),t.on("server-update",r),function(){t.off("server-update",r),u(!0)}}}),[t]),Object(o.useEffect)((function(){console.log("userUpdate",c),c&&localStorage.setItem("usersUpdate",JSON.stringify(c))}),[null===c||void 0===c?void 0:c.length]);var d=Object(m.p)();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:rr.a.onLineUser,children:["\u4e0a\u7dda\u4f7f\u7528\u8005(",null===c||void 0===c?void 0:c.length,")"]}),0!==(null===c||void 0===c?void 0:c.length)&&(null===c||void 0===c?void 0:c.map((function(e){return Object(N.jsx)("div",{className:rr.a.chatUserCard,onClick:function(){return function(e){t&&(t.emit("client-get-room",e),t.on("server-get-room",(function(e){d("/chat/".concat(e)),t.off("server-get-room")})));var a=JSON.parse(localStorage.getItem("usersUpdate"));if(a){var r=a.filter((function(t){return t.id===Number(e)}));n(r[0])}}(e.id)},children:Object(N.jsxs)("div",{className:rr.a.userInfo,children:[Object(N.jsx)("p",{children:Object(N.jsx)("img",{className:rr.a.avatar,src:e.avatar,alt:"Avatar"})}),Object(N.jsx)("div",{className:rr.a.name,children:e.name}),Object(N.jsxs)("div",{className:rr.a.userName,children:[" @",e.account]})]})},e.id)})))]})},ur=n(55),dr=n.n(ur),mr=function(e){var t=e.roomId,n=ir().setChatUser,a=wa().chatUnRead,r=Object(m.p)();Lt.a.extend(Et.a);var c=Lt()();return Object(N.jsxs)("div",{className:"history",children:[Object(N.jsx)("div",{className:dr.a.onLineList,children:"\u8a0a\u606f"}),a.empty?Object(N.jsx)("div",{children:"\u5c1a\u672a\u804a\u5929\u904e\uff0c\u958b\u59cb\u767c\u9001\u8a0a\u606f\u5427!"}):a.messages.map((function(e,a){var i=Lt()(e.timestamp),o=c.diff(i,"day")>=1?i.format("YYYY/MM/DD"):i.from(c);return Object(N.jsxs)("div",{className:dr.a.chatUserCard,onClick:function(){return a={roomId:e.roomId,user:e.targetUser},void(Number(t)!==a.roomId&&(console.log("\u623f\u9593\u865f\u78bc",a),n(a.user),r("/chat/".concat(a.roomId))));var a},children:[Object(N.jsx)("img",{className:dr.a.avatar,src:e.targetUser.avatar,alt:e.targetUser.name}),Object(N.jsxs)("div",{className:dr.a.userInfo,children:[Object(N.jsxs)("div",{className:dr.a.userTime,children:[Object(N.jsxs)("div",{className:dr.a.nameGroup,children:[Object(N.jsx)("div",{className:dr.a.name,children:e.targetUser.name}),Object(N.jsxs)("div",{className:dr.a.userName,children:["@",e.targetUser.account]})]}),Object(N.jsx)("div",{className:dr.a.time,children:o})]}),Object(N.jsx)("div",{className:dr.a.message,children:e.message.slice(0,50)})]})]},a)}))]})},jr=n(65),br=n.n(jr),fr=function(e){var t,n=e.notice||{},a=n.comment,r=n.createdAt,c=n.noticeMessage,i=n.description,o=n.user;n.userId,n.tweetId;return Object(N.jsx)("div",{className:br.a.noticeContainer,children:Object(N.jsxs)("div",{className:br.a.noticeCard,children:[Object(N.jsx)("img",{src:o.avatar,className:br.a.avatar,alt:"avatar"}),Object(N.jsxs)("div",{className:br.a.contentContainer,children:[Object(N.jsxs)("div",{className:br.a.nameAndUserId,children:[Object(N.jsx)("span",{className:br.a.name,children:c}),Object(N.jsx)("span",{className:br.a.userIdTime,children:(t=r,Lt.a.extend(Et.a),Lt.a.locale("zh-tw"),Lt()(t).format("A hh:mm\u30fbYYYY\u5e74MM\u6708DD\u65e5 "))})]}),Object(N.jsx)("div",{className:br.a.description,children:a||i})]})]})})},pr={position:"absolute",bottom:"50%"},hr=function(){var e,t=De(),n=t.isAuthenticated,a=t.user,r=Object(m.p)(),c=Object(o.useState)({account:"",password:""}),i=Object(b.a)(c,2),s=i[0],l=i[1],u=function(e){var t=Object(o.useState)(!0),n=Object(b.a)(t,2),a=n[0],r=n[1],c=Object(o.useState)(""),i=Object(b.a)(c,2),s=i[0],l=i[1],u=De(),d=u.setPayload,j=u.setIsAuthenticated,f=Object(m.p)(),p=Object(Ce.a)({mutationFn:function(){var t=Object(ne.a)(Object(te.a)().mark((function t(n){return Object(te.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),e.account.trim()&&e.password.trim()){t.next=4;break}throw _e.a.fire({title:"\u8acb\u5148\u767b\u5165\u5e33\u865f",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),new Error("\u8acb\u5148\u767b\u5165\u5e33\u865f");case 4:return t.next=6,se({account:e.account,password:e.password});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onSuccess:function(e){if("success"===e.status){var t=e.data.token,n=Ye.decode(t);localStorage.setItem("token",t),d(n),j(!0),r(!1),_e.a.fire({title:"\u767b\u5165\u6210\u529f",icon:"success",showConfirmButton:!1,timer:2e3,position:"top"}),f("/main")}else d(null),j(!1),r(!0),l(e.message),_e.a.fire({title:"\u767b\u5165\u5931\u6557",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"})}});return{mutation:p,responseError:a,errorInfo:s}}(s),f=u.mutation,h=u.responseError,O=u.errorInfo,v=[{label:"\u5e33\u865f",id:"\u5e33\u865f",type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",value:s.account,onChange:function(e){return l((function(t){return Object(j.a)(Object(j.a)({},t),{},{account:e})}))},disabled:f.isLoading},{label:"\u5bc6\u78bc",id:"\u5bc6\u78bc",type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",value:s.password,onChange:function(e){return l((function(t){return Object(j.a)(Object(j.a)({},t),{},{password:e})}))},disabled:f.isLoading}];return Object(o.useEffect)((function(){var e;"success"===(null===(e=f.data)||void 0===e?void 0:e.status)&&(Ze.connect(),Ze.on("connect",(function(){console.log("connect to: login success",Ze.connected),Ze.emit("client-join",a.id)})))}),[null===(e=f.data)||void 0===e?void 0:e.status]),Object(o.useEffect)((function(){n&&r("/main")}),[r,n,a]),Object(N.jsxs)("div",{className:p.a.container,children:[Object(N.jsx)(C,{className:p.a.logo}),Object(N.jsx)("h3",{className:p.a.title,children:"\u767b\u5165Alphitter"}),Object(N.jsx)(xe.a,{size:60,color:"#cccccc",loading:f.isLoading,cssOverride:pr}),Object(N.jsxs)("form",{className:p.a.form,onSubmit:f.mutate,children:[v.map((function(e){var t=e.label,n=e.id,a=e.type,r=e.placeholder,c=e.value,i=e.maxLength,o=e.onChange,s=e.disabled;return Object(N.jsx)(y,{label:t,id:n,type:a,placeholder:r,value:c,maxLength:i,onChange:o,responseError:h,errorInfo:O,disabled:s},n)})),Object(N.jsx)("button",{className:p.a.button,type:"submit",disabled:f.isLoading,children:"\u767b\u5165"})]}),Object(N.jsxs)("div",{className:p.a.linkGroup,children:[Object(N.jsx)(d.b,{to:"/register",className:p.a.link,children:"\u8a3b\u518a"}),"\u30fb",Object(N.jsx)(d.b,{to:"/admin",className:p.a.link,children:"\u5f8c\u53f0\u767b\u5165"})]})]})},Or=n(71),vr=n.n(Or),_r=function(){var e=Object(o.useState)({account:"",password:""}),t=Object(b.a)(e,2),n=t[0],a=t[1],r=De().isAuthenticated,c=function(e){var t=Object(o.useState)(!0),n=Object(b.a)(t,2),a=n[0],r=n[1],c=Object(o.useState)(""),i=Object(b.a)(c,2),s=i[0],l=i[1],u=De(),d=u.setPayload,m=u.setIsAuthenticated,j=Object(Ce.a)({mutationFn:function(){var t=Object(ne.a)(Object(te.a)().mark((function t(n){return Object(te.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),e.account.trim()&&e.password.trim()){t.next=4;break}throw _e.a.fire({title:"\u8acb\u5148\u767b\u5165\u5e33\u865f",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),new Error("\u8acb\u5148\u767b\u5165\u5e33\u865f");case 4:return t.next=6,Ee({account:e.account,password:e.password});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onSuccess:function(e){if("success"===e.status){var t=e.data.token,n=Ye.decode(t);d(n),m(!0),localStorage.setItem("token",t),_e.a.fire({title:"\u767b\u5165\u6210\u529f",icon:"success",showConfirmButton:!1,timer:2e3,position:"top"}),r(!1)}else d(null),m(!1),_e.a.fire({title:"\u767b\u5165\u5931\u6557",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),r(!0),l(e.message)}});return{mutation:j,responseError:a,errorInfo:s}}(n),i=c.mutation,s=c.responseError,l=c.errorInfo,u=Object(m.p)();Object(o.useEffect)((function(){r&&u("/admin/list")}),[u,r]);var f=[{label:"\u5e33\u865f",id:"\u5e33\u865f",type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",value:n.account,onChange:function(e){return a((function(t){return Object(j.a)(Object(j.a)({},t),{},{account:e})}))},disabled:null===i||void 0===i?void 0:i.isLoading},{label:"\u5bc6\u78bc",id:"\u5bc6\u78bc",type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",value:n.password,onChange:function(e){return a((function(t){return Object(j.a)(Object(j.a)({},t),{},{password:e})}))},disabled:null===i||void 0===i?void 0:i.isLoading}];return Object(N.jsxs)("div",{className:vr.a.container,children:[Object(N.jsx)(C,{className:vr.a.logo}),Object(N.jsx)("h3",{className:vr.a.title,children:"\u5f8c\u53f0\u767b\u5165"}),Object(N.jsx)(xe.a,{size:60,color:"#cccccc",loading:i.isLoading,cssOverride:{position:"absolute"}}),Object(N.jsxs)("form",{className:vr.a.form,onSubmit:i.mutate,children:[f.map((function(e){var t=e.label,n=e.id,a=e.type,r=e.placeholder,c=e.value,i=e.maxLength,o=e.onChange,u=e.disabled;return Object(N.jsx)(y,{label:t,id:n,type:a,placeholder:r,value:c,maxLength:i,onChange:o,responseError:s,errorInfo:l,disabled:u},n)})),Object(N.jsx)("button",{className:vr.a.button,type:"submit",disabled:i.isLoading,children:"\u767b\u5165"})]}),Object(N.jsx)("div",{className:vr.a.linkGroup,children:Object(N.jsx)(d.b,{to:"/login",className:vr.a.link,children:"\u524d\u53f0\u767b\u5165"})})]})},gr=n(88),Cr=n.n(gr),xr=function(){var e=Object(m.p)(),t=Object(m.m)(),n=Object(o.useState)(""),a=Object(b.a)(n,2),r=(a[0],a[1]),c=Object(o.useState)(!1),i=Object(b.a)(c,2),s=i[0],l=i[1];Object(o.useEffect)((function(){l(t.pathname)}),[t]);var u=function(e){r(e),l(!0)};return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:oa.a.navbarContainer,children:[Object(N.jsx)("div",{className:oa.a.NavbarLogo,children:Object(N.jsx)("img",{src:sa,alt:""})}),Object(N.jsxs)("div",{className:oa.a.NavbarGroup,children:[Object(N.jsx)(d.b,{to:"/admin/list",children:Object(N.jsxs)("div",{className:"".concat(oa.a.NavbarItem," ").concat("/admin/list"===t.pathname?oa.a.active:""),onClick:function(){return u("admin/list")},children:[Object(N.jsx)("img",{className:oa.a.NavbarPng,src:"/admin/list"===s?ja:la,alt:"Home"}),Object(N.jsx)("span",{children:"\u63a8\u6587\u6e05\u55ae"})]})}),Object(N.jsx)(d.b,{to:"/admin/user",children:Object(N.jsxs)("div",{className:"".concat(oa.a.NavbarItem," ").concat("/admin/user"===t.pathname?oa.a.active:""),onClick:function(){return u("admin/user")},children:[Object(N.jsx)("img",{className:oa.a.NavbarPng,src:"/admin/user"===s?fa:ua,alt:"Icon"}),Object(N.jsx)("span",{children:"\u4f7f\u7528\u8005\u5217\u8868"})]})})]}),Object(N.jsxs)("div",{className:oa.a.logout,onClick:function(){localStorage.removeItem("token"),e("/login")},children:[Object(N.jsx)("img",{className:oa.a.NavbarPng,src:ma,alt:"logout"}),"\u767b\u51fa"]})]})})},wr=n(40),Nr=n.n(wr),yr=["title","titleId"];function Ir(){return Ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ir.apply(this,arguments)}function kr(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pr(e,t){var n=e.title,a=e.titleId,r=kr(e,yr);return o.createElement("svg",Ir({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?o.createElement("title",{id:a},n):null,sr||(sr=o.createElement("path",{d:"M8.8 7.2002H5.6V3.9002C5.6 3.5002 5.3 3.1002 4.8 3.1002C4.3 3.1002 4.1 3.5002 4.1 3.9002V7.2002H0.8C0.4 7.2002 0 7.5002 0 8.0002C0 8.5002 0.3 8.8002 0.8 8.8002H4.1V12.1002C4.1 12.5002 4.4 12.9002 4.9 12.9002C5.4 12.9002 5.7 12.6002 5.7 12.1002V8.7002H9C9.4 8.7002 9.8 8.4002 9.8 7.9002C9.8 7.4002 9.3 7.2002 8.8 7.2002ZM23.8 2.3002V2.2002H23.7C23.6 2.2002 14.5 3.4002 9.3 13.9002C5.5 21.5002 5.7 23.8002 6 23.8002C6.3 23.9002 9.4 17.3002 12.7 14.6002C17.9 13.5002 19.3 11.0002 19.3 11.0002C19.3 11.0002 17.8 11.2002 17.2 11.2002C16.4 11.2002 15.8 11.0002 15.5 10.9002C16.8 9.7002 17.9 9.4002 19 9.2002C19.9 9.0002 20.8 8.8002 22 8.0002C24.2 6.4002 23.9 2.5002 23.8 2.3002Z",fill:"#657786"})))}var Lr,Ur=o.forwardRef(Pr),Er=(n.p,["title","titleId"]);function Ar(){return Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ar.apply(this,arguments)}function Mr(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fr(e,t){var n=e.title,a=e.titleId,r=Mr(e,Er);return o.createElement("svg",Ar({width:30,height:30,viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?o.createElement("title",{id:a},n):null,Lr||(Lr=o.createElement("path",{d:"M15 27.0473H14.9825C11.7537 26.9873 2.4375 18.5698 2.4375 10.5973C2.4375 6.76728 5.59375 3.40479 9.19125 3.40479C12.0537 3.40479 13.9787 5.37979 14.9987 6.81729C16.0162 5.38229 17.9412 3.40479 20.805 3.40479C24.405 3.40479 27.56 6.76729 27.56 10.5985C27.56 18.5685 18.2425 26.986 15.0137 27.0448H15V27.0473ZM9.1925 5.28104C6.5925 5.28104 4.31375 7.76603 4.31375 10.5998C4.31375 17.7748 13.1062 25.0948 15.0012 25.1723C16.8987 25.0948 25.6887 17.776 25.6887 10.5998C25.6887 7.76603 23.41 5.28104 20.81 5.28104C17.65 5.28104 15.885 8.95104 15.87 8.98729C15.5825 9.68979 14.425 9.68979 14.1362 8.98729C14.1187 8.94979 12.355 5.28104 9.19375 5.28104H9.1925Z",fill:"#657786"})))}var Sr,Tr=o.forwardRef(Fr),Rr=(n.p,function(e){var t=e.user,n=t.name,a=t.account,r=t.cover,c=t.avatar,i=t.followersCount,o=t.followingsCount,s=t.tweetsCount,l=t.receivedLikesCount,u=function(e){return e<1e3?e:(e/1e3).toFixed(1)+"k"};return Object(N.jsxs)("div",{className:Nr.a.container,children:[Object(N.jsx)("div",{className:Nr.a.bgContainer,children:Object(N.jsx)("img",{src:r,alt:"background"})}),Object(N.jsx)("div",{className:Nr.a.avatarContainer,children:Object(N.jsx)("img",{src:c,alt:"avatar"})}),Object(N.jsx)("div",{className:Nr.a.buttonContainer}),Object(N.jsxs)("div",{className:Nr.a.textContainer,children:[Object(N.jsx)("h5",{className:Nr.a.name,children:n}),Object(N.jsxs)("span",{className:Nr.a.account,children:["@",a]}),Object(N.jsx)("p",{}),Object(N.jsxs)("div",{className:Nr.a.iconContainer,children:[Object(N.jsx)("div",{className:Nr.a.icon,children:Object(N.jsx)(Ur,{})})," ",Object(N.jsx)("p",{children:u(s)}),Object(N.jsx)("div",{className:Nr.a.icon,children:Object(N.jsx)(Tr,{})})," ",Object(N.jsx)("p",{children:u(l)})]}),Object(N.jsxs)("div",{className:Nr.a.followGroup,children:[Object(N.jsxs)("div",{className:Nr.a.follow,children:[i,Object(N.jsx)("p",{children:"\u8ddf\u96a8\u4e2d"})]}),Object(N.jsxs)("div",{className:Nr.a.follow,children:[o,Object(N.jsx)("p",{children:"\u8ddf\u96a8\u8005"})]})]})]})]})}),Hr=n(135),Br=n.n(Hr),Yr=function(e){var t=function(e){var t=Object(ye.a)({queryKey:["getAdminUsers",e],queryFn:function(e){var t=e.signal;return Ae({signal:t})},refetchOnWindowFocus:!1});return{data:t.data,isLoading:t.isLoading}}(e.userId),n=t.data,a=t.isLoading;return Object(N.jsxs)("div",{className:Br.a.adminUserContainer,children:[a&&Object(N.jsx)(Te.a,{count:8,containerClassName:Br.a.skeletonContainer,className:Br.a.skeleton}),null===n||void 0===n?void 0:n.map((function(e){return e.id?Object(N.jsx)(Rr,{user:e,type:"allUserList"},e.id):null}))]})},qr=function(){var e=De().user;return Object(N.jsxs)("div",{className:Cr.a.homeContainer,children:[Object(N.jsx)("div",{className:Cr.a.leftColumn,children:Object(N.jsx)(xr,{})}),Object(N.jsxs)("div",{className:Cr.a.middleColumn,children:[Object(N.jsx)("div",{className:Cr.a.HeaderContainer,children:Object(N.jsx)("div",{className:Cr.a.Header,children:"\u4f7f\u7528\u8005\u5217\u8868"})}),Object(N.jsx)(Yr,{userId:e&&e.id})]})]})},Zr=n(89),Gr=n.n(Zr),Kr=n(238),Dr=n.n(Kr),Qr=n(59),Vr=n.n(Qr),Jr=["title","titleId"];function zr(){return zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zr.apply(this,arguments)}function Wr(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xr(e,t){var n=e.title,a=e.titleId,r=Wr(e,Jr);return o.createElement("svg",zr({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?o.createElement("title",{id:a},n):null,Sr||(Sr=o.createElement("path",{d:"M13.4141 11.9999L19.2071 6.20687C19.5971 5.81687 19.5971 5.18388 19.2071 4.79288C18.8171 4.40188 18.1841 4.40288 17.7931 4.79288L12.0001 10.5859L6.20712 4.79288C5.81712 4.40288 5.18412 4.40288 4.79312 4.79288C4.40212 5.18288 4.40312 5.81587 4.79312 6.20687L10.5861 11.9999L4.79312 17.7929C4.40312 18.1829 4.40312 18.8159 4.79312 19.2069C4.98812 19.4019 5.24312 19.4999 5.50012 19.4999C5.75712 19.4999 6.01212 19.4019 6.20712 19.2069L12.0001 13.4139L17.7931 19.2069C17.9881 19.4019 18.2431 19.4999 18.5001 19.4999C18.7571 19.4999 19.0121 19.4019 19.2071 19.2069C19.5971 18.8169 19.5971 18.1839 19.2071 17.7929L13.4141 11.9999Z",fill:"#6C757D"})))}var $r=o.forwardRef(Xr);n.p;function ec(e){var t=Lt()(),n=Lt()(e);return t.diff(n,"hour")<24?n.fromNow():n.format("YYYY/MM/DD")}Lt.a.extend(Et.a),Lt.a.locale("zh-tw");var tc=function(e){var t=e.tweet,n=e.handleOnDelete,a=t.id,r=t.User,c=void 0===r?{}:r,i=c.name,o=c.account,s=c.avatar,l=t.description,u=t.createdAt,d=l.length>50?l.slice(0,50)+"...":l;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:Vr.a.tweetCardContainer,children:Object(N.jsxs)("div",{className:Vr.a.tweetCard,children:[Object(N.jsx)("img",{src:s,className:Vr.a.avatar,alt:"avatar"}),Object(N.jsxs)("div",{className:Vr.a.contentContainer,children:[Object(N.jsxs)("div",{className:Vr.a.nameAndUserId,children:[Object(N.jsx)("span",{className:Vr.a.name,children:i}),Object(N.jsxs)("span",{className:Vr.a.userIdTime,children:["@",o,"\u30fb",ec(u)]})]}),Object(N.jsx)("div",{className:Vr.a.tweet,children:d})]}),Object(N.jsx)("div",{className:Vr.a.closeIcon,children:Object(N.jsx)("div",{onClick:function(){return n(a)},children:Object(N.jsx)($r,{})})})]})})})},nc=function(){var e=function(){var e=Object(ye.a)({queryKey:["getAdminAllTweets"],queryFn:function(e){var t=e.signal;return Me({signal:t})},refetchOnWindowFocus:!1});return{data:e.data,isLoading:e.isLoading}}(),t=e.data,n=e.isLoading,a=Object(ge.b)(),r=Object(Ce.a)({mutationFn:function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onSuccess:function(e){"success"===e.status&&(a.invalidateQueries({queryKey:["getAdminAllTweets"]}),_e.a.fire({title:e.message,icon:"success",showConfirmButton:!1,timer:2e3,position:"top"}))}});if(n)return Object(N.jsx)(Te.a,{count:6,className:Dr.a.skeleton});var c=function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.isLoading){e.next=2;break}return e.abrupt("return");case 2:_e.a.fire({title:"\u4f60\u78ba\u5b9a\u8981\u522a\u9664\u55ce?",text:"\u522a\u9664\u5f8c\u4e0d\u53ef\u56de\u5fa9",icon:"warning",showCancelButton:!0}).then(function(){var e=Object(ne.a)(Object(te.a)().mark((function e(n){return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.isConfirmed&&r.mutate(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(xe.a,{size:60,color:"#cccccc",loading:r.isLoading,cssOverride:{position:"fixed",top:"50%",left:"50%"}}),null===t||void 0===t?void 0:t.map((function(e){return e.User?Object(N.jsx)(tc,{tweet:e,handleOnDelete:c,type:"alltweet"},e.id):null}))]})},ac=function(){return Object(N.jsxs)("div",{className:Gr.a.homeContainer,children:[Object(N.jsx)("div",{className:Gr.a.leftColumn,children:Object(N.jsx)(xr,{})}),Object(N.jsxs)("div",{className:Gr.a.middleColumn,children:[Object(N.jsx)("div",{className:Gr.a.HeaderContainer,children:Object(N.jsx)("div",{className:Gr.a.Header,children:"\u63a8\u6587\u6e05\u55ae"})}),Object(N.jsx)(nc,{})]})]})},rc=n(72),cc=n.n(rc),ic={position:"absolute"},oc=function(){var e=Object(o.useState)({account:"",name:"",email:"",password:"",checkPassword:""}),t=Object(b.a)(e,2),n=t[0],a=t[1],r=function(e){var t=Object(o.useState)(!1),n=Object(b.a)(t,2),a=n[0],r=n[1],c=Object(o.useState)(""),i=Object(b.a)(c,2),s=i[0],l=i[1],u=Object(m.p)(),d=Object(Ce.a)({mutationFn:function(){var t=Object(ne.a)(Object(te.a)().mark((function t(n){return Object(te.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),e.account.trim()&&e.password.trim()&&e.name.trim()&&e.checkPassword.trim()&&e.email.trim()){t.next=4;break}throw _e.a.fire({title:"\u5167\u5bb9\u4e0d\u53ef\u70ba\u7a7a\u767d",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),new Error("\u5167\u5bb9\u4e0d\u53ef\u7a7a\u767d");case 4:return t.next=6,le({account:e.account,name:e.name,password:e.password,email:e.email,checkPassword:e.checkPassword});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onSuccess:function(e){return"success"===e.status?(_e.a.fire({title:"".concat(e.message),icon:"success",showConfirmButton:!1,timer:2e3,position:"top"}),r(!1),void u("/login")):(_e.a.fire({title:"".concat(e.message),icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),r(!0),void l(e.message))}});return{mutation:d,responseError:a,errorInfo:s}}(n),c=r.mutation,i=r.responseError,s=r.errorInfo,l=[{name:"account",label:"\u5e33\u865f",id:"\u5e33\u865f",type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",value:n.account,onChange:function(e){return a((function(t){return Object(j.a)(Object(j.a)({},t),{},{account:e})}))},disabled:c.isLoading},{name:"name",label:"\u540d\u7a31",id:"\u540d\u7a31",type:"text",placeholder:"\u8acb\u8f38\u5165\u4f7f\u7528\u8005\u540d\u7a31",value:n.name,maxLength:50,onChange:function(e){return a((function(t){return Object(j.a)(Object(j.a)({},t),{},{name:e})}))},disabled:c.isLoading},{name:"email",label:"Email",id:"email",type:"email",placeholder:"\u8acb\u8f38\u5165Email",value:n.email,onChange:function(e){return a((function(t){return Object(j.a)(Object(j.a)({},t),{},{email:e})}))},disabled:c.isLoading},{name:"password",label:"\u5bc6\u78bc",id:"\u5bc6\u78bc",type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",value:n.password,onChange:function(e){return a((function(t){return Object(j.a)(Object(j.a)({},t),{},{password:e})}))},disabled:c.isLoading},{name:"checkPassword",label:"\u5bc6\u78bc\u78ba\u8a8d",id:"\u5bc6\u78bc\u78ba\u8a8d",type:"password",placeholder:"\u8acb\u518d\u6b21\u8f38\u5165\u5bc6\u78bc",value:n.checkPassword,onChange:function(e){return a((function(t){return Object(j.a)(Object(j.a)({},t),{},{checkPassword:e})}))},disabled:c.isLoading}];return Object(N.jsxs)("div",{className:cc.a.container,children:[Object(N.jsx)(C,{className:cc.a.logo}),Object(N.jsx)("h3",{className:cc.a.title,children:"\u5efa\u7acb\u4f60\u7684\u5e33\u865f"}),Object(N.jsx)(xe.a,{size:60,color:"#cccccc",loading:c.isLoading,cssOverride:ic}),Object(N.jsxs)("form",{className:cc.a.form,onSubmit:c.mutate,children:[l.map((function(e){var t=e.label,n=e.id,a=e.type,r=e.placeholder,c=e.value,o=e.maxLength,l=e.onChange,u=e.name,d=e.disabled;return Object(N.jsx)(y,{label:t,id:n,type:a,placeholder:r,value:c,maxLength:o,onChange:l,responseError:i,errorInfo:s,name:u,disabled:d},n)})),Object(N.jsx)("button",{className:cc.a.button,type:"submit",disabled:c.isLoading,children:"\u8a3b\u518a"})]}),Object(N.jsx)("div",{className:cc.a.linkGroup,children:Object(N.jsx)(d.b,{to:"/login",className:cc.a.link,children:"\u53d6\u6d88"})})]})},sc=n(90),lc=n.n(sc),uc=function(){var e=De(),t=e.isAuthenticated,n=e.user,a=Object(m.p)();return Object(o.useEffect)((function(){t||a("/login")}),[a,t]),Object(N.jsx)("div",{className:lc.a.homeContainer,children:Object(N.jsxs)("div",{className:lc.a.homeColumn,children:[Object(N.jsx)("div",{className:lc.a.leftColumn,children:Object(N.jsx)(Ea,{})}),Object(N.jsxs)("div",{className:lc.a.middleColumn,children:[Object(N.jsx)(ct,{userId:null===n||void 0===n?void 0:n.id}),Object(N.jsx)(st,{user:n}),Object(N.jsx)(Wt,{})]}),Object(N.jsx)("div",{className:lc.a.rightColumn,children:Object(N.jsx)(sn,{})})]})})},dc=n(91),mc=n.n(dc),jc=function(){var e=De(),t=e.user,n=e.isAuthenticated,a=Object(m.p)();return Object(o.useEffect)((function(){n||a("/login")}),[a,n]),Object(N.jsx)("div",{className:mc.a.profileContainer,children:Object(N.jsxs)("div",{className:mc.a.homeColumn,children:[Object(N.jsx)("div",{className:mc.a.leftColumn,children:Object(N.jsx)(Ea,{})}),Object(N.jsxs)("div",{className:mc.a.middleColumn,children:[Object(N.jsx)(ct,{userId:null===t||void 0===t?void 0:t.id}),Object(N.jsx)(En,{userId:null===t||void 0===t?void 0:t.id})]}),Object(N.jsx)("div",{className:mc.a.rightColumn,children:Object(N.jsx)(sn,{})})]})})},bc=n(92),fc=n.n(bc),pc=function(){var e=Object(m.r)().id,t=Object(m.p)(),n=De().isAuthenticated,a=Je(),r=Object(o.useState)(!1),c=Object(b.a)(r,2),i=c[0],s=c[1];return Object(o.useEffect)((function(){n||t("/login")}),[t,n]),Object(o.useEffect)((function(){var t=function(t){if(console.log(t),0!==t.length){var n=t.some((function(t){return t["User.id"]===Number(e)}));s(n)}};return a.emit("client-get-subscribe"),a.on("server-get-subscribe",t),function(){a.off("server-get-subscribe",t)}}),[e,a]),Object(N.jsx)("div",{className:fc.a.profileContainer,children:Object(N.jsxs)("div",{className:fc.a.homeColumn,children:[Object(N.jsx)("div",{className:fc.a.leftColumn,children:Object(N.jsx)(Ea,{})}),Object(N.jsxs)("div",{className:fc.a.middleColumn,children:[Object(N.jsx)(ct,{userId:Number(e)}),Object(N.jsx)(Jn,{userId:Number(e),isSubscribed:i})]}),Object(N.jsx)("div",{className:fc.a.rightColumn,children:Object(N.jsx)(sn,{})})]})})},hc=n(56),Oc=n.n(hc),vc=function(e){var t=e.id,n=e.user,a=Object(o.useState)(!1),r=Object(b.a)(a,2),c=r[0],i=r[1],s=Object(o.useState)(""),l=Object(b.a)(s,2),u=l[0],d=l[1],j=Object(m.p)(),f=Object(Ce.a)({mutationFn:function(e){var a,r,c,i,o;if(e.preventDefault(),null===(a=n.account)||void 0===a||!a.trim()||null===(r=n.password)||void 0===r||!r.trim()||null===(c=n.name)||void 0===c||!c.trim()||null===(i=n.checkPassword)||void 0===i||!i.trim()||null===(o=n.email)||void 0===o||!o.trim())throw _e.a.fire({title:"\u5167\u5bb9\u4e0d\u53ef\u7a7a\u767d",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),new Error("\u5167\u5bb9\u4e0d\u53ef\u7a7a\u767d");return ue({id:t,account:n.account,name:n.name,email:n.email,password:n.password,checkPassword:n.checkPassword})},onSuccess:function(){var e=Object(ne.a)(Object(te.a)().mark((function e(t){return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("success"!==t.status){e.next=7;break}return _e.a.fire({title:t.message,icon:"success",showConfirmButton:!1,timer:2e3,position:"top"}),i(!1),j("/profile"),e.abrupt("return");case 7:return _e.a.fire({title:t.message,icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),i(!0),d(t.message),e.abrupt("return");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return{mutation:f,responseError:c,errorInfo:u}},_c={position:"absolute",translate:"-50%",bottom:"50%"},gc=function(){var e=De(),t=e.user,n=e.logout,a=e.isAuthenticated,r=Se(null===t||void 0===t?void 0:t.id),c=r.data,i=r.isLoading,s=Object(o.useState)({account:null===c||void 0===c?void 0:c.account,name:null===c||void 0===c?void 0:c.name,email:null===c||void 0===c?void 0:c.email,password:"",checkPassword:""}),l=Object(b.a)(s,2),u=l[0],d=l[1],f=vc({id:null===t||void 0===t?void 0:t.id,user:u}),p=f.mutation,h=f.responseError,O=f.errorInfo,v=Object(m.p)();Object(o.useEffect)((function(){a||v("/login")}),[v,a]);var _=[{name:"account",label:"\u5e33\u865f",id:"account",type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",value:u.account,onChange:function(e){return d((function(t){return Object(j.a)(Object(j.a)({},t),{},{account:e})}))},disabled:p.isLoading},{name:"name",label:"\u540d\u7a31",id:"name",type:"text",placeholder:"\u8acb\u8f38\u5165\u4f7f\u7528\u8005\u540d\u7a31",value:u.name,maxLength:50,onChange:function(e){return d((function(t){return Object(j.a)(Object(j.a)({},t),{},{name:e})}))},disabled:p.isLoading},{name:"email",label:"Email",id:"email",type:"email",placeholder:"\u8acb\u8f38\u5165Email",value:u.email,onChange:function(e){return d((function(t){return Object(j.a)(Object(j.a)({},t),{},{email:e})}))},disabled:p.isLoading},{name:"password",label:"\u5bc6\u78bc",id:"\u5bc6\u78bc",type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",value:u.password,onChange:function(e){return d((function(t){return Object(j.a)(Object(j.a)({},t),{},{password:e})}))},disabled:p.isLoading},{name:"checkPassword",label:"\u5bc6\u78bc\u78ba\u8a8d",id:"\u5bc6\u78bc\u78ba\u8a8d",type:"password",placeholder:"\u8acb\u518d\u6b21\u8f38\u5165\u5bc6\u78bc",value:u.checkPassword,onChange:function(e){return d((function(t){return Object(j.a)(Object(j.a)({},t),{},{checkPassword:e})}))},disabled:p.isLoading}];return i?Object(N.jsx)(Te.a,{}):Object(N.jsx)("div",{className:Oc.a.homeContainer,children:Object(N.jsxs)("div",{className:Oc.a.homeColumn,children:[Object(N.jsx)("div",{className:Oc.a.leftColumn,children:Object(N.jsx)(Ea,{})}),Object(N.jsxs)("div",{className:Oc.a.middleColumn,children:[Object(N.jsx)("div",{className:Oc.a.settingHeader,children:"\u5e33\u6236\u8a2d\u5b9a"}),Object(N.jsx)(xe.a,{size:60,color:"#cccccc",loading:p.isLoading,cssOverride:_c}),Object(N.jsxs)("form",{className:Oc.a.form,onSubmit:p.mutate,children:[_.map((function(e){var t=e.label,n=e.id,a=e.type,r=e.placeholder,c=e.value,i=e.maxLength,o=e.onChange,s=e.name,l=e.disabled;return Object(N.jsx)(y,{label:t,id:n,type:a,placeholder:r,value:c,maxLength:i,onChange:o,responseError:h,errorInfo:O,name:s,disabled:l},n)})),Object(N.jsx)("button",{className:Oc.a.button,type:"submit",disabled:p.isLoading,children:"\u5132\u5b58"}),Object(N.jsx)("a",{href:"/login",className:Oc.a.logout,onClick:n,children:"\u767b\u51fa"})]})]}),Object(N.jsx)("div",{className:Oc.a.rightColumn,children:Object(N.jsx)("div",{className:Oc.a.navbarContainer})})]})})},Cc=n(93),xc=n.n(Cc),wc=function(){var e=De().isAuthenticated,t=Object(m.p)();return Object(o.useEffect)((function(){e||t("/login")}),[t,e]),Object(N.jsx)("div",{className:xc.a.replyContainer,children:Object(N.jsxs)("div",{className:xc.a.homeColumn,children:[Object(N.jsx)("div",{className:xc.a.leftColumn,children:Object(N.jsx)(Ea,{})}),Object(N.jsxs)("div",{className:xc.a.middleColumn,children:[Object(N.jsx)(ct,{}),Object(N.jsx)(ca,{})]}),Object(N.jsx)("div",{className:xc.a.rightColumn,children:Object(N.jsx)(sn,{})})]})})},Nc=n(94),yc=n.n(Nc),Ic=function(){var e=Object(m.r)().id,t=De(),n=t.user,a=t.isAuthenticated,r=Object(m.p)();return Object(o.useEffect)((function(){a||r("/login")}),[r,a]),Object(N.jsx)("div",{className:yc.a.followContainer,children:Object(N.jsxs)("div",{className:yc.a.homeColumn,children:[Object(N.jsx)("div",{className:yc.a.leftColumn,children:Object(N.jsx)(Ea,{})}),Object(N.jsxs)("div",{className:yc.a.middleColumn,children:[Object(N.jsx)(ct,{userId:e}),Object(N.jsx)(bn,{userId:Number(e),loginUserId:n&&n.id})]}),Object(N.jsx)("div",{className:yc.a.rightColumn,children:Object(N.jsx)(sn,{})})]})})},kc=n(95),Pc=n.n(kc),Lc=function(){var e=De().isAuthenticated,t=Object(m.p)();return Object(o.useEffect)((function(){e||t("/login")}),[t,e]),Object(N.jsx)("div",{className:Pc.a.homeContainer,children:Object(N.jsxs)("div",{className:Pc.a.homeColumn,children:[Object(N.jsx)("div",{className:Pc.a.leftColumn,children:Object(N.jsx)(Ea,{})}),Object(N.jsx)("div",{className:Pc.a.middleColumn,children:Object(N.jsx)(lr,{})}),Object(N.jsx)("div",{className:Pc.a.rightColumn,children:Object(N.jsx)(nr,{headerContext:{title:"\u516c\u958b\u804a\u5929\u5ba4",subtitle:""},roomId:4})})]})})},Uc=n(96),Ec=n.n(Uc),Ac=function(){var e=Object(o.useState)({}),t=Object(b.a)(e,2),n=t[0],a=t[1],r=De().isAuthenticated,c=Object(m.r)().roomId,i=Object(m.p)(),s=ir(),l=s.chatUser,u=s.setChatUser,d=wa().chatUnRead;return Object(o.useEffect)((function(){r||i("/login")}),[i,r]),Object(o.useEffect)((function(){return function(){if(0!==d.messages.length||0!==Object.keys(l).length)if(0===Object.keys(l).length)a({title:d.messages[0].targetUser.name,subtitle:d.messages[0].targetUser.account});else a({title:l.name,subtitle:l.account});else a({title:"\u5c1a\u672a\u804a\u5929\u904e",subtitle:"\u5c1a\u672a\u804a\u5929\u904e"})}(),function(){a({}),u({})}}),[c]),Object(N.jsx)("div",{className:Ec.a.homeContainer,children:Object(N.jsxs)("div",{className:Ec.a.homeColumn,children:[Object(N.jsx)("div",{className:Ec.a.leftColumn,children:Object(N.jsx)(Ea,{})}),Object(N.jsx)("div",{className:Ec.a.middleColumn,children:Object(N.jsx)(mr,{roomId:c})}),Object(N.jsx)("div",{className:Ec.a.rightColumn,children:Object(N.jsx)(nr,{headerContext:n,roomId:c})})]})})},Mc=n(97),Fc=n.n(Mc),Sc=function(){var e=Object(o.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Je(),c=function(e){console.log(e);var t=e.map((function(e){return Object(j.a)(Object(j.a)({},{comment:null,description:null,tweetId:null}),e)}));a(t)};return Object(o.useEffect)((function(){return r.on("server-get-notice",c),r.emit("client-enter-room","notice"),r.emit("client-get-notice"),function(){r.off("server-get-notice",c)}}),[r]),{notice:n}},Tc=function(){var e=Sc().notice,t=De().isAuthenticated,n=Object(m.p)();return Object(o.useEffect)((function(){t||n("/login")}),[n,t]),Object(N.jsx)("div",{className:Fc.a.homeContainer,children:Object(N.jsxs)("div",{className:Fc.a.homeColumn,children:[Object(N.jsx)("div",{className:Fc.a.leftColumn,children:Object(N.jsx)(Ea,{})}),Object(N.jsxs)("div",{className:Fc.a.middleColumn,children:[Object(N.jsx)(ct,{}),0===e.length&&Object(N.jsx)("span",{children:"\u5c1a\u7121\u4efb\u4f55\u901a\u77e5"}),e.map((function(e,t){return Object(N.jsx)(fr,{notice:e},t)}))]}),Object(N.jsx)("div",{className:Fc.a.rightColumn,children:Object(N.jsx)(sn,{})})]})})},Rc=function(e){var t=e.children,n=De(),a=n.user;return n.isAuthenticated?"admin"!==a.role?Object(N.jsx)(m.a,{to:"/login",replace:!0}):t:Object(N.jsx)(m.a,{to:"/login",replace:!0})};var Hc=function(){var e=Object(m.r)().id,t=De(),n=t.isAuthenticated,a=t.user,r=Object(m.n)(":id/followers"),c=Object(m.n)(":id/followings");return n&&a?r||c?Object(N.jsx)(Ic,{}):e===String(a.id)?Object(N.jsx)(jc,{}):Object(N.jsx)(pc,{id:e}):Object(N.jsx)(hr,{})},Bc=function(){return Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(d.a,{basename:"/twitter_challenge",children:Object(N.jsx)(Qe,{children:Object(N.jsx)(ze,{children:Object(N.jsxs)(m.d,{children:[Object(N.jsx)(m.b,{path:"login",element:Object(N.jsx)(hr,{})}),Object(N.jsx)(m.b,{path:"register",element:Object(N.jsx)(oc,{})}),Object(N.jsx)(m.b,{path:"admin",element:Object(N.jsx)(_r,{})}),Object(N.jsx)(m.b,{path:"admin/list",element:Object(N.jsx)(Rc,{children:Object(N.jsx)(ac,{})})}),Object(N.jsx)(m.b,{path:"admin/user",element:Object(N.jsx)(Rc,{children:Object(N.jsx)(qr,{})})}),Object(N.jsx)(m.b,{path:"main",element:Object(N.jsx)(Na,{children:Object(N.jsx)(uc,{})})}),Object(N.jsx)(m.b,{path:"chat",element:Object(N.jsx)(Na,{children:Object(N.jsx)(or,{children:Object(N.jsx)(Lc,{})})})}),Object(N.jsx)(m.b,{path:"chat/:roomId",element:Object(N.jsx)(Na,{children:Object(N.jsx)(or,{children:Object(N.jsx)(Ac,{})})})}),Object(N.jsx)(m.b,{path:"notice",element:Object(N.jsx)(Na,{children:Object(N.jsx)(Tc,{})})}),Object(N.jsx)(m.b,{path:"setting",element:Object(N.jsx)(Na,{children:Object(N.jsx)(gc,{})})}),Object(N.jsx)(m.b,{path:"tweets/:tweetId",element:Object(N.jsx)(Na,{children:Object(N.jsx)(wc,{})})}),Object(N.jsx)(m.b,{path:":id/follow/*",element:Object(N.jsx)(Na,{children:Object(N.jsx)(Hc,{})})}),Object(N.jsx)(m.b,{path:":id/*",element:Object(N.jsx)(Na,{children:Object(N.jsx)(or,{children:Object(N.jsx)(Hc,{})})})}),Object(N.jsx)(m.b,{path:"profile/*",element:Object(N.jsx)(Na,{children:Object(N.jsx)(jc,{})})}),Object(N.jsx)(m.b,{path:"*",element:Object(N.jsx)(Na,{children:Object(N.jsx)(uc,{})})})]})})})})})},Yc=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,398)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},qc=n(395),Zc=n(239),Gc=new qc.a;u.a.createRoot(document.getElementById("root")).render(Object(N.jsx)(s.a.StrictMode,{children:Object(N.jsxs)(ge.a,{client:Gc,children:[Object(N.jsx)(Bc,{}),Object(N.jsx)(Zc.a,{initialIsOpen:!1})]})})),Yc()},40:function(e,t,n){e.exports={container:"AdminUserCard_container__3se3R",bgContainer:"AdminUserCard_bgContainer__3EqKj",avatarContainer:"AdminUserCard_avatarContainer__3n9m1",iconContainer:"AdminUserCard_iconContainer__2GEsn",icon:"AdminUserCard_icon__27zUE",textContainer:"AdminUserCard_textContainer__PMAhj",name:"AdminUserCard_name__17m9G",account:"AdminUserCard_account__3V8Yy",description:"AdminUserCard_description__1sP96",followGroup:"AdminUserCard_followGroup__1JQnr",follow:"AdminUserCard_follow__3P_iN"}},43:function(e,t,n){e.exports={container:"UserInfo_container__1KG0K",bgContainer:"UserInfo_bgContainer__3m6jM",avatarContainer:"UserInfo_avatarContainer__3XHO1",buttonContainer:"UserInfo_buttonContainer__2-J41",button:"UserInfo_button__1w_Z3",textContainer:"UserInfo_textContainer__1cyT8",name:"UserInfo_name__gYzMN",account:"UserInfo_account__3paRX",description:"UserInfo_description__1jYlG",linkGroup:"UserInfo_linkGroup__a6k7g",link:"UserInfo_link__1wRsx",skeleton:"UserInfo_skeleton__3CHbh"}},44:function(e,t,n){e.exports={background:"TweetModal_background__lpo2b",container:"TweetModal_container__2zggW",isLoading:"TweetModal_isLoading__1xWuL",buttonContainer:"TweetModal_buttonContainer__3LYZM",backButton:"TweetModal_backButton__6RCp7",closeButton:"TweetModal_closeButton__2P0w1",ContentContainer:"TweetModal_ContentContainer__3PJFW",avatarContainer:"TweetModal_avatarContainer__2xc8C",textareaContainer:"TweetModal_textareaContainer__QIrnp",small:"TweetModal_small__3VF5t",button:"TweetModal_button__1kM7U"}},52:function(e,t,n){e.exports={tweetCardContainer:"ReplyCard_tweetCardContainer__Mx0R2",tweetCard:"ReplyCard_tweetCard__2AKaL",avatar:"ReplyCard_avatar__2-VoE",contentContainer:"ReplyCard_contentContainer__32xYG",nameAndUserId:"ReplyCard_nameAndUserId__3_0pz",name:"ReplyCard_name__-zJ_2",userIdTime:"ReplyCard_userIdTime__3nBzn",tweet:"ReplyCard_tweet__2mipJ",replyContainer:"ReplyCard_replyContainer__1JFe4",reply:"ReplyCard_reply__1Y5M4",replyId:"ReplyCard_replyId__B_7hK",countContainer:"ReplyCard_countContainer__hiJ8B",count:"ReplyCard_count__urYBi"}},53:function(e,t,n){e.exports={tweetCardContainer:"ReplyCard_tweetCardContainer__2l1AW",tweetCard:"ReplyCard_tweetCard__3j-St",avatar:"ReplyCard_avatar__27LJS",contentContainer:"ReplyCard_contentContainer__24Wet",nameAndUserId:"ReplyCard_nameAndUserId__1La-N",name:"ReplyCard_name__G4DUD",userIdTime:"ReplyCard_userIdTime__1LOqP",tweet:"ReplyCard_tweet__3HUaZ",replyContainer:"ReplyCard_replyContainer__2-mdS",reply:"ReplyCard_reply__1rjng",replyId:"ReplyCard_replyId__3NwM9",countContainer:"ReplyCard_countContainer__1dBQG",count:"ReplyCard_count__ao12b"}},55:function(e,t,n){e.exports={onLineList:"ChatPrivateText_onLineList__34qCS",chatUserCard:"ChatPrivateText_chatUserCard__BiSMX",avatar:"ChatPrivateText_avatar__2-fq4",userInfo:"ChatPrivateText_userInfo__2s2lS",nameGroup:"ChatPrivateText_nameGroup__26qPF",userTime:"ChatPrivateText_userTime__2rpAe",time:"ChatPrivateText_time__1TZgL",name:"ChatPrivateText_name__NZpCh",message:"ChatPrivateText_message__2xyCy",userName:"ChatPrivateText_userName__1icha"}},56:function(e,t,n){e.exports={homeContainer:"SettingPage_homeContainer__3GOYq HomePage_homeContainer__PjICR",homeColumn:"SettingPage_homeColumn__22kWb HomePage_homeColumn__1HR7U",leftColumn:"SettingPage_leftColumn__3Ed72 HomePage_leftColumn__-Eo3q",middleColumn:"SettingPage_middleColumn__2jjia",navbarContainer:"SettingPage_navbarContainer__3tPHz",form:"SettingPage_form__2kEVU",button:"SettingPage_button__OpQ7O",settingHeader:"SettingPage_settingHeader__1zEPg",logout:"SettingPage_logout__2fZCa"}},59:function(e,t,n){e.exports={tweetCardContainer:"AdminTweetCard_tweetCardContainer__21vPZ",tweetCard:"AdminTweetCard_tweetCard__3R8G4",avatar:"AdminTweetCard_avatar__1m1I-",contentContainer:"AdminTweetCard_contentContainer__BXkkU",nameAndUserId:"AdminTweetCard_nameAndUserId__1uCuY",name:"AdminTweetCard_name__1Mcps",userIdTime:"AdminTweetCard_userIdTime__1Mjsf",tweet:"AdminTweetCard_tweet__2BBnj",replyContainer:"AdminTweetCard_replyContainer__1tcd8",reply:"AdminTweetCard_reply__Q29yF",replyId:"AdminTweetCard_replyId__1TZLy",closeIcon:"AdminTweetCard_closeIcon__xLQKM"}},62:function(e,t,n){e.exports={form:"LoginPage_form__38hI6",container:"LoginPage_container__28w_X",title:"LoginPage_title__3mGgL",logo:"LoginPage_logo__2Yc1V",button:"LoginPage_button__3x_vQ",linkGroup:"LoginPage_linkGroup__VQ963",link:"LoginPage_link__BHBA3"}},63:function(e,t,n){e.exports={recommendListContainer:"RecommendItem_recommendListContainer__2nIkE",recommendCard:"RecommendItem_recommendCard__1IrXm",avatar:"RecommendItem_avatar__1l3TV",userInfo:"RecommendItem_userInfo__UUJt2",name:"RecommendItem_name__ciKLW",userName:"RecommendItem_userName__3S0R-",buttonFollowing:"RecommendItem_buttonFollowing__cVCvJ",buttonFollower:"RecommendItem_buttonFollower__3A4mc"}},64:function(e,t,n){e.exports={followCardContainer:"FollowCard_followCardContainer__WPk_Y",followCard:"FollowCard_followCard__3ftBk",avatar:"FollowCard_avatar__x97E0",intro:"FollowCard_intro__35z2v",userInfo:"FollowCard_userInfo__2enob",name:"FollowCard_name__GXAyD",userName:"FollowCard_userName__1p-DT",buttonFollowing:"FollowCard_buttonFollowing__20ZaV",buttonFollower:"FollowCard_buttonFollower__dlF7q"}},65:function(e,t,n){e.exports={noticeContainer:"NoticeCard_noticeContainer__h-Jqd",noticeCard:"NoticeCard_noticeCard__3w3E_",avatar:"NoticeCard_avatar__2weyZ",contentContainer:"NoticeCard_contentContainer__3FFZ5",nameAndUserId:"NoticeCard_nameAndUserId__1tnep",name:"NoticeCard_name__2dKhM",userIdTime:"NoticeCard_userIdTime__WDL8i",description:"NoticeCard_description__1T1Ak"}},70:function(e,t,n){e.exports={mainPostContainer:"MainPost_mainPostContainer__-Hh_x",isLoading:"MainPost_isLoading__2paaW",tweetArea:"MainPost_tweetArea__1Lh9t",small:"MainPost_small__1-IJd",avatar:"MainPost_avatar__9jwoy",tweetText:"MainPost_tweetText__32xqD",tweetButton:"MainPost_tweetButton__2k9Cp"}},71:function(e,t,n){e.exports={form:"AdminLoginPage_form__34Rwp",container:"AdminLoginPage_container__2WTTe",title:"AdminLoginPage_title__1W2A3",logo:"AdminLoginPage_logo__3bQ5P",button:"AdminLoginPage_button__3aFxx",linkGroup:"AdminLoginPage_linkGroup__1vpwg",link:"AdminLoginPage_link__36Xaa"}},72:function(e,t,n){e.exports={form:"RegisterPage_form__17Rcy",container:"RegisterPage_container__2uYjb",title:"RegisterPage_title__2mXe9",logo:"RegisterPage_logo__30Yxz",button:"RegisterPage_button__13SnK",linkGroup:"RegisterPage_linkGroup__2tVUJ",link:"RegisterPage_link__10fQN"}},77:function(e,t,n){e.exports={container:"ChatInput_container__LHNRT",inputContainer:"ChatInput_inputContainer__3smtp",disabled:"ChatInput_disabled__3QqTW",input:"ChatInput_input__8zWqO",button:"ChatInput_button__3emhW"}},78:function(e,t,n){e.exports={onLineUser:"ChatUser_onLineUser__LetQ5",chatUserCard:"ChatUser_chatUserCard__3grXv",avatar:"ChatUser_avatar__2ob-i",userInfo:"ChatUser_userInfo__1H07z",name:"ChatUser_name__1Rlpe",userName:"ChatUser_userName__1YgH7",skeleton:"ChatUser_skeleton__ntJS-"}},88:function(e,t,n){e.exports={homeContainer:"AdminUserPage_homeContainer__rRF38",leftColumn:"AdminUserPage_leftColumn__Kk69P",middleColumn:"AdminUserPage_middleColumn__eXYau",HeaderContainer:"AdminUserPage_HeaderContainer__2vxYj",Header:"AdminUserPage_Header__3Y9bh"}},89:function(e,t,n){e.exports={homeContainer:"AdminHomePage_homeContainer__3zg2K",leftColumn:"AdminHomePage_leftColumn__3Ff1q",middleColumn:"AdminHomePage_middleColumn__1pXIK",HeaderContainer:"AdminHomePage_HeaderContainer__Vwcqc",Header:"AdminHomePage_Header__3ACBB"}},90:function(e,t,n){e.exports={homeContainer:"HomePage_homeContainer__PjICR",homeColumn:"HomePage_homeColumn__1HR7U",leftColumn:"HomePage_leftColumn__-Eo3q",rightColumn:"HomePage_rightColumn__1JabL",middleColumn:"HomePage_middleColumn__2Dkas"}},91:function(e,t,n){e.exports={profileContainer:"ProfilePage_profileContainer__Lz_Gy HomePage_homeContainer__PjICR",homeColumn:"ProfilePage_homeColumn__18vgF HomePage_homeColumn__1HR7U",leftColumn:"ProfilePage_leftColumn__2rKNv HomePage_leftColumn__-Eo3q",rightColumn:"ProfilePage_rightColumn__XbgSu HomePage_rightColumn__1JabL",middleColumn:"ProfilePage_middleColumn__1Zyht HomePage_middleColumn__2Dkas"}},92:function(e,t,n){e.exports={profileContainer:"OtherProfilePage_profileContainer__2tC7a HomePage_homeContainer__PjICR",homeColumn:"OtherProfilePage_homeColumn__2qorA HomePage_homeColumn__1HR7U",leftColumn:"OtherProfilePage_leftColumn__8pwxn HomePage_leftColumn__-Eo3q",rightColumn:"OtherProfilePage_rightColumn__3ofZS HomePage_rightColumn__1JabL",middleColumn:"OtherProfilePage_middleColumn__2pe84 HomePage_middleColumn__2Dkas"}},93:function(e,t,n){e.exports={replyContainer:"ReplyPage_replyContainer__3KLcM HomePage_homeContainer__PjICR",homeColumn:"ReplyPage_homeColumn__2JSaq HomePage_homeColumn__1HR7U",leftColumn:"ReplyPage_leftColumn__EMg2_ HomePage_leftColumn__-Eo3q",rightColumn:"ReplyPage_rightColumn__1bcBB HomePage_rightColumn__1JabL",middleColumn:"ReplyPage_middleColumn__1v95H HomePage_middleColumn__2Dkas"}},94:function(e,t,n){e.exports={followContainer:"FollowPage_followContainer__2QA4T HomePage_homeContainer__PjICR",homeColumn:"FollowPage_homeColumn__2Xsot HomePage_homeColumn__1HR7U",leftColumn:"FollowPage_leftColumn__3tnUI",rightColumn:"FollowPage_rightColumn__Ux45T",middleColumn:"FollowPage_middleColumn__1iFGr",userInfo:"FollowPage_userInfo__1bUuK"}},95:function(e,t,n){e.exports={homeContainer:"ChatPage_homeContainer__1h2fe HomePage_homeContainer__PjICR",homeColumn:"ChatPage_homeColumn__BsLfu HomePage_homeColumn__1HR7U",leftColumn:"ChatPage_leftColumn__Hf8gs HomePage_leftColumn__-Eo3q",rightColumn:"ChatPage_rightColumn__1xciS",middleColumn:"ChatPage_middleColumn__3IPYS"}},96:function(e,t,n){e.exports={homeContainer:"PrivateChatPage_homeContainer__2rZgu HomePage_homeContainer__PjICR",homeColumn:"PrivateChatPage_homeColumn__2Jb_t HomePage_homeColumn__1HR7U",leftColumn:"PrivateChatPage_leftColumn__2CZXu HomePage_leftColumn__-Eo3q",rightColumn:"PrivateChatPage_rightColumn__3ez1h",middleColumn:"PrivateChatPage_middleColumn__1UP37"}},97:function(e,t,n){e.exports={homeContainer:"NoticePage_homeContainer__2BscV",homeColumn:"NoticePage_homeColumn__2zxwv",leftColumn:"NoticePage_leftColumn__YUJwi",rightColumn:"NoticePage_rightColumn__3oFZY",middleColumn:"NoticePage_middleColumn__3k5Ek"}}},[[392,1,2]]]);
//# sourceMappingURL=main.39337e44.chunk.js.map